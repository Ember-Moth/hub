import{u as w,q as i,z as D,a as O,p as I,B as S,s as x,k as R,l as _,o as E,S as L,_ as g}from"./q-gSxxJeWo.js";import{_ as a}from"./q-BKaOGYNW.js";import{m as j}from"./q-CPSFP6Ww.js";const A=async e=>{const[o]=w();e.stopPropagation(),await o(e)},H=Object.freeze(Object.defineProperty({__proto__:null,s_ynD4TbshVh8:A},Symbol.toStringTag,{value:"Module"})),B=async e=>{const[o,t,n]=w();o.alert===!0||o.closeOnBackdropClick===!1||e.target instanceof HTMLDialogElement&&await t.wasModalBackdropClicked(n.value,e)&&(o.showSig.value=!1)},$=Object.freeze(Object.defineProperty({__proto__:null,_hW:g,s_G1ZPM2aqXZc:B},Symbol.toStringTag,{value:"Module"}));let T=!1;if(typeof window<"u"){const e={get passive(){T=!0}};window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}const y=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);let u=[],s=new Map,m=!1,M=-1,v,p,c,f;const k=e=>u.some(o=>!!(o.options.allowTouchMove&&o.options.allowTouchMove(e))),h=e=>{const o=e||window.event;return k(o.target)||o.touches.length>1?!0:(o.preventDefault&&o.preventDefault(),!1)},q=e=>{if(f===void 0){const o=!!e&&e.reserveScrollBarGap===!0,t=window.innerWidth-document.documentElement.getBoundingClientRect().width;if(o&&t>0){const n=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);f=document.body.style.paddingRight,document.body.style.paddingRight=`${n+t}px`}}v===void 0&&(v=document.body.style.overflow,document.body.style.overflow="hidden")},C=()=>{f!==void 0&&(document.body.style.paddingRight=f,f=void 0),v!==void 0&&(document.body.style.overflow=v,v=void 0)},V=()=>window.requestAnimationFrame(()=>{const e=document.documentElement,o=document.body;if(c===void 0){p={...e.style},c={...o.style};const{scrollY:t,scrollX:n,innerHeight:d}=window;e.style.height="100%",e.style.overflow="hidden",o.style.position="fixed",o.style.top=`${-t}px`,o.style.left=`${-n}px`,o.style.width="100%",o.style.height="auto",o.style.overflow="hidden",setTimeout(()=>window.requestAnimationFrame(()=>{const r=d-window.innerHeight;r&&t>=d&&(o.style.top=-(t+r)+"px")}),300)}}),F=()=>{if(c!==void 0){const e=-parseInt(document.body.style.top,10),o=-parseInt(document.body.style.left,10),t=document.documentElement,n=document.body;t.style.height=(p==null?void 0:p.height)||"",t.style.overflow=(p==null?void 0:p.overflow)||"",n.style.position=c.position||"",n.style.top=c.top||"",n.style.left=c.left||"",n.style.width=c.width||"",n.style.height=c.height||"",n.style.overflow=c.overflow||"",window.scrollTo(o,e),c=void 0}},K=e=>e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1,Q=(e,o)=>{const t=e.targetTouches[0].clientY-M;return k(e.target)?!1:o&&o.scrollTop===0&&t>0||K(o)&&t<0?h(e):(e.stopPropagation(),!0)},se=(e,o)=>{if(!e||(s.set(e,s!=null&&s.get(e)?(s==null?void 0:s.get(e))+1:1),u.some(n=>n.targetElement===e)))return;const t={targetElement:e,options:o||{}};u=[...u,t],y?V():q(o),y&&(e.ontouchstart=n=>{n.targetTouches.length===1&&(M=n.targetTouches[0].clientY)},e.ontouchmove=n=>{n.targetTouches.length===1&&Q(n,e)},m||(document.addEventListener("touchmove",h,T?{passive:!1}:void 0),m=!0))},G=e=>{e&&(s.set(e,s!=null&&s.get(e)?(s==null?void 0:s.get(e))-1:0),(s==null?void 0:s.get(e))===0&&(u=u.filter(o=>o.targetElement!==e),s==null||s.delete(e)),y&&(e.ontouchstart=null,e.ontouchmove=null,m&&u.length===0&&(document.removeEventListener("touchmove",h,T?{passive:!1}:void 0),m=!1)),u.length===0&&(y?F():C()))},z=async function({track:o,cleanup:t}){const[n,d,r]=w(),P=o(()=>n.showSig.value);if(!r.value)return;const l=await d.trapFocus(r.value);if(P){const b=window.requestAnimationFrame;window.requestAnimationFrame=()=>42,await d.showModal(r.value),window.requestAnimationFrame=b,d.activateFocusTrap(l)}else await d.closeModal(r.value);t(async()=>{await d.deactivateFocusTrap(l),r.value&&G(r.value)})},J=Object.freeze(Object.defineProperty({__proto__:null,_hW:g,s_NrRkqH5rua0:z},Symbol.toStringTag,{value:"Module"})),Y=async({track:e})=>{var t,n;const[o]=w();e(()=>o.showSig.value),o.showSig.value?await((t=o.onShow$)==null?void 0:t.call(o)):await((n=o.onClose$)==null?void 0:n.call(o))},Z=Object.freeze(Object.defineProperty({__proto__:null,_hW:g,s_t0rPb0JCsLQ:Y},Symbol.toStringTag,{value:"Module"})),N=`@layer qwik-ui {
  /* browsers automatically set an interesting max-width and max-height for dialogs 
    https://twitter.com/t3dotgg/status/1774350919133691936
  */
  dialog:modal {
    max-width: unset;
    max-height: unset;
  }
}
`,W=N,X=Object.freeze(Object.defineProperty({__proto__:null,s_xmQmlK3jwb8:W},Symbol.toStringTag,{value:"Module"})),U=e=>{const[o]=w();e.key==="Escape"&&(o.showSig.value=!1,e.stopPropagation())},ee=Object.freeze(Object.defineProperty({__proto__:null,_hW:g,s_ayxMKdgmPPM:U},Symbol.toStringTag,{value:"Module"}));function oe(){const e=i(()=>a(()=>import("./q-BJgpHHXj.js"),[]),"s_AefMWW3GL2w");return{trapFocus:i(()=>a(()=>import("./q-F6TJnsb6.js"),[]),"s_kiUsPJgyHDM"),activateFocusTrap:i(()=>a(()=>import("./q-Cgpt95xp.js"),[]),"s_N6D122hRea8"),deactivateFocusTrap:i(()=>a(()=>import("./q-C4Mq4N81.js"),[]),"s_J7D0lXwFDNQ"),showModal:i(()=>a(()=>import("./q-C_OiJfyD.js").then(l=>l.u),[]),"s_kJlyb0xy1jA"),closeModal:i(()=>a(()=>import("./q-C40xZLcA.js"),[]),"s_0iyUTuHAne0",[e]),wasModalBackdropClicked:i(()=>a(()=>import("./q-D4w3e2SY.js"),[]),"s_bJ8ptGY70HQ"),supportClosingAnimation:e}}const ie=e=>{D(i(()=>a(()=>Promise.resolve().then(()=>X),void 0),"s_xmQmlK3jwb8"));const o=oe(),t=O(j),n=I();S(i(()=>a(()=>Promise.resolve().then(()=>J),void 0),"s_NrRkqH5rua0",[t,o,n])),S(i(()=>a(()=>Promise.resolve().then(()=>Z),void 0),"s_t0rPb0JCsLQ",[t]));const d=i(()=>a(()=>Promise.resolve().then(()=>$),void 0),"s_G1ZPM2aqXZc",[t,o,n]),r=x(l=>{const b=[" ","Enter"];l.target instanceof HTMLDialogElement&&b.includes(l.key)&&l.preventDefault(),l.key==="Escape"&&l.preventDefault()},'e=>{const keys=[" ","Enter"];if(e.target instanceof HTMLDialogElement&&keys.includes(e.key)){e.preventDefault();}if(e.key==="Escape"){e.preventDefault();}}');return R("dialog",{...e,get id(){return`${t.localId}-root`},get"aria-labelledby"(){return`${t.localId}-title`},get"aria-describedby"(){return`${t.localId}-description`},get"data-state"(){return t.showSig.value?"open":"closed"},get"data-open"(){return t.showSig.value&&""},get"data-closed"(){return!t.showSig.value&&""},get role(){return t.alert===!0?"alertdialog":"dialog"},ref:n,children:E(L,null,3,"HT_0"),onKeyDown$:[r,i(()=>a(()=>Promise.resolve().then(()=>ee),void 0),"s_ayxMKdgmPPM",[t]),e.onKeyDown$],onClick$:i(()=>a(()=>Promise.resolve().then(()=>H),void 0),"s_ynD4TbshVh8",[d])},{id:_(l=>`${l.localId}-root`,[t]),"aria-labelledby":_(l=>`${l.localId}-title`,[t]),"aria-describedby":_(l=>`${l.localId}-description`,[t]),"data-state":_(l=>l.showSig.value?"open":"closed",[t]),"data-open":_(l=>l.showSig.value&&"",[t]),"data-closed":_(l=>!l.showSig.value&&"",[t]),role:_(l=>l.alert===!0?"alertdialog":"dialog",[t])},0,"HT_1")};export{z as a,Y as b,W as c,se as d,G as e,U as f,ie as g,B as s,A as s_ynD4TbshVh8};
