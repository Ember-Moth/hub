import{u as d,j as D,p as o,I as V,J as A,B as m,q as u,x as Q,k as C,m as j,l as q,o as z,S as U,_ as f}from"./q-gSxxJeWo.js";import{_ as c}from"./q-BKaOGYNW.js";import{S as H}from"./q-BlEW7sTm.js";import{u as B}from"./q-DZzWbOQ9.js";import{u as F}from"./q-Br9O_Tm4.js";const N=function({track:l}){var n;const[t,i,s]=d();l(()=>i.value),t.value||(n=s.onOpenChange$)==null||n.call(s,i.value)},W=Object.freeze(Object.defineProperty({__proto__:null,_hW:f,s_jFwrDLekLgM:N},Symbol.toStringTag,{value:"Module"})),$=()=>{const[e]=d();e.value=!1},Y=Object.freeze(Object.defineProperty({__proto__:null,_hW:f,s_lQMxUBP1Ozc:$},Symbol.toStringTag,{value:"Module"})),G=function({track:l}){const[t,i]=d(),s=i["bind:open"];s&&(l(()=>s.value),t.value=s.value??t.value)},J=Object.freeze(Object.defineProperty({__proto__:null,_hW:f,s_jwfdBdtrxUQ:G},Symbol.toStringTag,{value:"Module"})),K=async function({track:l}){var g;const[t,i,s,n,v]=d(),a=n["bind:value"];if(a){l(()=>a.value);for(const[r,_]of s.value)(g=a.value)!=null&&g.includes(_.value)?(await v.selectionManager$(r,"add"),i.value&&(t.highlightedIndexSig.value=r)):await v.selectionManager$(r,"remove")}},X=Object.freeze(Object.defineProperty({__proto__:null,_hW:f,s_w4TICEffeks:K},Symbol.toStringTag,{value:"Module"})),Z=()=>{const[e]=d();return e._itemsMap},ee=Object.freeze(Object.defineProperty({__proto__:null,s_8ShdQyTQNWI:Z},Symbol.toStringTag,{value:"Module"})),te=({track:e})=>{const[l,t]=d();l.value=e(()=>t.invalid??!1)},oe=Object.freeze(Object.defineProperty({__proto__:null,_hW:f,s_Ahr9Ek0LfWs:te},Symbol.toStringTag,{value:"Module"})),de=e=>{var h,P;const l=D(e,["_itemsMap","_valuePropIndex","onChange$","onOpenChange$","scrollOptions","loop","multiple","_label","name","required","disabled","invalid"]),t=B(e.ref),i=o(),s=o(),n=o(),v=o(),a=o(),g=e.loop??!1,r=V(),_=A(u(()=>c(()=>Promise.resolve().then(()=>ee),void 0),"s_8ShdQyTQNWI",[e])),I=o(new Set([e._valuePropIndex??[]].flat())),x=o(e._valuePropIndex??null),b=o(!1),T=e.scrollOptions??{behavior:"smooth",block:"center",inline:"nearest"},k=o(),O=o(!0),L=o(),p=o(e.disabled??!1),y=o(e.invalid??!1),M=o(!1),R=o(!1);m(u(()=>c(()=>Promise.resolve().then(()=>oe),void 0),"s_Ahr9Ek0LfWs",[y,e]));const S={itemsMapSig:_,currDisplayValueSig:k,triggerRef:i,popoverRef:s,listboxRef:n,labelRef:v,groupRef:a,highlightedItemRef:L,localId:r,highlightedIndexSig:x,selectedIndexSetSig:I,isKeyboardFocusSig:M,isMouseOverPopupSig:R,isListboxOpenSig:b,scrollOptions:T,loop:g,multiple:e.multiple??!1,name:e.name,required:e.required,isDisabledSig:p,isInvalidSig:y};Q(H,S);const E=F();return m(u(()=>c(()=>Promise.resolve().then(()=>X),void 0),"s_w4TICEffeks",[S,O,_,e,E])),m(u(()=>c(()=>Promise.resolve().then(()=>J),void 0),"s_jwfdBdtrxUQ",[b,e])),m(u(()=>c(()=>Promise.resolve().then(()=>W),void 0),"s_jFwrDLekLgM",[O,b,e])),m(u(()=>c(()=>Promise.resolve().then(()=>le),void 0),"s_YiMGky50mtA",[S,e,I])),m(u(()=>c(()=>Promise.resolve().then(()=>Y),void 0),"s_lQMxUBP1Ozc",[O])),m(u(()=>c(()=>Promise.resolve().then(()=>ne),void 0),"s_LQDtd6YFydo",[p,e])),C("div",{role:"group",ref:t,"data-open":S.isListboxOpenSig.value?"":void 0,"data-closed":S.isListboxOpenSig.value?void 0:"",get"data-disabled"(){return p.value?"":void 0},"data-invalid":(h=S.isInvalidSig)!=null&&h.value?"":void 0,"aria-invalid":(P=S.isInvalidSig)==null?void 0:P.value,"data-qui-select-root":!0,...l,children:z(U,null,3,"AN_0")},{role:j,"data-disabled":q(w=>w.value?"":void 0,[p]),"data-qui-select-root":j},0,"AN_1")},se=async function({track:l}){const[t,i,s]=d(),n=i["bind:value"],v=i["bind:displayValue"];l(()=>s.value);const a=[],g=[];for(const r of t.selectedIndexSetSig.value){const _=t.itemsMapSig.value.get(r);_&&(a.push(_.value),g.push(_.displayValue))}if(i.onChange$&&s.value.size>0&&await i.onChange$(t.multiple?a:a[0]),n&&n.value){const r=JSON.stringify(n.value),_=JSON.stringify(a);r!==_&&(t.multiple?n.value=a:n.value=a[0])}t.currDisplayValueSig.value=g,v&&t.currDisplayValueSig.value&&(v.value=t.multiple?t.currDisplayValueSig.value:t.currDisplayValueSig.value[0])},le=Object.freeze(Object.defineProperty({__proto__:null,_hW:f,s_YiMGky50mtA:se},Symbol.toStringTag,{value:"Module"})),ie=({track:e})=>{const[l,t]=d();l.value=e(()=>t.disabled??!1)},ne=Object.freeze(Object.defineProperty({__proto__:null,_hW:f,s_LQDtd6YFydo:ie},Symbol.toStringTag,{value:"Module"}));export{f as _hW,G as a,K as b,Z as c,te as d,de as e,se as f,ie as g,$ as s,N as s_jFwrDLekLgM};
