import{_ as h}from"./q-BKaOGYNW.js";import{E as v,o as l,m as o,e as n,q as f,l as b,u as g}from"./q-gSxxJeWo.js";import{G as d,M as w}from"./q-BG3_QTyM.js";import{v as k,M as y}from"./q-B5TFmh5c.js";import"./q-CvYgVdLJ.js";import{u as x}from"./q-Am9eSDJS.js";import{u as T}from"./q-CTSOZNae.js";import{t as p}from"./q-CRLhHez8.js";import"./q-DuNBRwv3.js";import"./q-C_B9_CLk.js";import"./q-C2B8HMMM.js";import"./q-DXZy683x.js";import"./q-C0whS16-.js";const q=()=>{v();const s=T(),t=x(),u={unlinkSuccess:`成功解除绑定 {{method}}`,linkPrompt:`请在新窗口中完成 {{method}} 绑定`},i={github:"GitHub",google:"Google",wechat:`微信`,weibo:`微博`,qq:"QQ",facebook:"Facebook",twitter:"Twitter"},a=t.config.oauth_methods.filter(e=>!["mobile","email","device"].includes(e));return a.length===0?null:l(d.Root,{id:"linked-accounts",children:[l(d.Header,{children:n("div",null,{class:"flex items-center gap-2"},[n("div",null,{class:"bg-primary/10 flex h-8 w-8 items-center justify-center rounded-lg"},l(k,{class:"text-primary h-4 w-4",[o]:{class:o}},3,"lv_28"),1,null),l(d.Title,{children:`第三方账户`},1,"lv_29")],1,null)},1,"lv_30"),l(d.Content,{class:"space-y-4 border-t p-5",children:a.map(e=>{var m;const r=w[e],c=((m=s.userStore.detail)==null?void 0:m.auth_methods.some(_=>_.auth_type===e))??!1;return n("div",null,{class:"border-border bg-background/50 flex items-center justify-between rounded-lg border p-4 transition-all hover:shadow-sm"},[n("div",null,{class:"flex items-center"},[n("div",null,{class:"bg-primary/10 mr-3 flex h-10 w-10 items-center justify-center rounded-full"},l(r,{class:"text-primary h-5 w-5",[o]:{class:o}},3,"lv_31"),1,null),n("div",null,null,[n("div",null,{class:"text-card-foreground font-medium capitalize"},i[e]||e,1,null),n("div",null,{class:"text-foreground/70 text-sm"},c?`成功绑定`:`尚未绑定`,1,null)],1,null)],1,null),n("button",{class:y("rounded-md px-4 py-2 text-sm font-medium transition-colors",c?"bg-background text-primary hover:bg-primary/10":"bg-primary hover:bg-primary/90"),onClick$:f(()=>h(()=>Promise.resolve().then(()=>S),void 0),"s_urtYtJfUeHY",[c,e,i,u,s])},{disabled:b(_=>_.userStore.loading.update,[s])},s.userStore.loading.update?`处理中...`:c?`解除绑定`:`立即链接`,0,null)],1,r)}),[o]:{class:o}},1,"lv_32")],[o]:{id:o}},1,"lv_33")},N=Object.freeze(Object.defineProperty({__proto__:null,s_fPEEtbTQCkc:q},Symbol.toStringTag,{value:"Module"})),I=async()=>{var e;const[s,t,u,i,a]=g();if(s)await a.unbindThirdPartyAccount({method:t}),p.success(i.unlinkSuccess.replace("{{method}}",u[t]||t));else{const r=await a.bindThirdPartyAccount({method:t,redirect:`${window.location.origin}/account/bind/${t}`});(e=r==null?void 0:r.data.data)!=null&&e.redirect&&(p.success(i.linkPrompt.replace("{{method}}",u[t]||t)),window.open(r.data.data.redirect,"_blank"))}},S=Object.freeze(Object.defineProperty({__proto__:null,s_urtYtJfUeHY:I},Symbol.toStringTag,{value:"Module"}));export{N as i,I as s,q as s_fPEEtbTQCkc};
