import{u as b,n as v,D as j,o as d,s as w,q as L,d as f,m as P,k as u,l as T,_hW as x}from"./q-Q7QTf1-t.js";import{_ as R}from"./q-BKaOGYNW.js";import{b as I}from"./q-D-hFNuXB.js";import"./q-R_PFgutd.js";import{u as V}from"./q-Cfw5b693.js";import"./q-CXrtXnGn.js";import"./q-D3Ga_9CS.js";import"./q-CX_U-nEJ.js";import"./q-C6JuRMDH.js";import"./q-B-GNphMI.js";import"./q-DTPKyc3d.js";import"./q-bWKQX6P2.js";import"./q-xouav5_y.js";import"./q-DlwICHcG.js";var S="acacia",q=function(e){return e===3?"v3":e},h="https://js.stripe.com",U="".concat(h,"/").concat(S,"/stripe.js"),k=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,A=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var O=function(e){return k.test(e)||A.test(e)},C=function(){for(var e=document.querySelectorAll('script[src^="'.concat(h,'"]')),r=0;r<e.length;r++){var n=e[r];if(O(n.src))return n}return null},_=function(e){var r="",n=document.createElement("script");n.src="".concat(U).concat(r);var t=document.head||document.body;if(!t)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return t.appendChild(n),n},F=function(e,r){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"6.1.0",startTime:r})},s=null,c=null,p=null,G=function(e){return function(r){e(new Error("Failed to load Stripe.js",{cause:r}))}},M=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},W=function(e){return s!==null?s:(s=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var t=C();if(!(t&&e)){if(!t)t=_(e);else if(t&&p!==null&&c!==null){var i;t.removeEventListener("load",p),t.removeEventListener("error",c),(i=t.parentNode)===null||i===void 0||i.removeChild(t),t=_(e)}}p=M(r,n),c=G(n),t.addEventListener("load",p),t.addEventListener("error",c)}catch(a){n(a);return}}),s.catch(function(r){return s=null,Promise.reject(r)}))},z=function(e,r,n){if(e===null)return null;var t=r[0],i=t.match(/^pk_test/),a=q(e.version),y=S,m=e.apply(void 0,r);return F(m,n),m},l,g=!1,E=function(){return l||(l=W(null).catch(function(e){return l=null,Promise.reject(e)}),l)};Promise.resolve().then(function(){return E()}).catch(function(o){});var J=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];g=!0;var t=Date.now();return E().then(function(i){return z(i,r,t)})};const B=async({cleanup:o})=>{const[e,r,n,t,i]=b();if(t.publishable_key)try{const a=await J(t.publishable_key);if(!a)return;i.value=v(a),e.value=v(a.elements({locale:n.lang.split("-")[0]})),r.value=!1,o(()=>{i.value=null,e.value=null})}catch{r.value=!1}},D=Object.freeze(Object.defineProperty({__proto__:null,_hW:x,s_716by301ays:B},Symbol.toStringTag,{value:"Module"})),X=o=>{j();const e=d(null),r=d(null),n=d(!0),t=V();return w(L(()=>R(()=>Promise.resolve().then(()=>D),void 0),"s_716by301ays",[r,n,t,o,e])),f("div",null,null,n.value?f("div",null,null,`加载支付组件中...`,1,"Y2_22"):P(I,{get method(){return o.method},get client_secret(){return o.client_secret},get stripe(){return e.value},get elements(){return r.value},[T]:{method:u(i=>i.method,[o]),client_secret:u(i=>i.client_secret,[o]),stripe:u(i=>i.value,[e]),elements:u(i=>i.value,[r])}},3,"Y2_23"),1,"Y2_24")},se=Object.freeze(Object.defineProperty({__proto__:null,s_0Vqe251Fbs8:X},Symbol.toStringTag,{value:"Module"}));export{x as _hW,se as s,X as s_0Vqe251Fbs8,B as s_716by301ays};
