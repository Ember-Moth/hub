import{u as c,a as S,i as O,o as P,A as f,q as r,m,k as n,l as u,S as x,_hW as a}from"./q-Q7QTf1-t.js";import{_ as l}from"./q-BKaOGYNW.js";import{u as h,H as L,a as y}from"./q-CqWMfrPS.js";import{S as T}from"./q-BNdHvpMw.js";import{u as E}from"./q-DAeZLEpY.js";const j=(t,e,i)=>e<t.left||e>t.right||i<t.top||i>t.bottom,R=Object.freeze(Object.defineProperty({__proto__:null,_hW:a,s_DzK8WbOdwTY:j},Symbol.toStringTag,{value:"Module"})),w=()=>{const[t]=c();t.value=!1},I=Object.freeze(Object.defineProperty({__proto__:null,_hW:a,s_uci394fFoFM:w},Symbol.toStringTag,{value:"Module"})),k=({track:t,cleanup:e})=>{const[i,s]=c();t(()=>i.isListboxOpenSig.value),i.isListboxOpenSig.value&&window.addEventListener("pointerdown",s),e(()=>{window.removeEventListener("pointerdown",s)})},M=Object.freeze(Object.defineProperty({__proto__:null,_hW:a,s_elCQc4rsmKk:k},Symbol.toStringTag,{value:"Module"})),D=async({track:t})=>{const[e,i,s]=c();t(()=>e.isListboxOpenSig.value),i.value||(e.isListboxOpenSig.value?s.showPopover():s.hidePopover())},K=Object.freeze(Object.defineProperty({__proto__:null,_hW:a,s_7lQKzdZ2ybk:D},Symbol.toStringTag,{value:"Module"})),z=async t=>{const[e,i]=c();if(!e.isListboxOpenSig.value||!e.popoverRef.value||!e.triggerRef.value)return;const s=e.popoverRef.value.getBoundingClientRect(),g=e.triggerRef.value.getBoundingClientRect(),{clientX:d,clientY:_}=t,p=await i(s,d,_),b=await i(g,d,_);p&&b&&(e.isListboxOpenSig.value=!1)},C=Object.freeze(Object.defineProperty({__proto__:null,_hW:a,s_9QSfKFryeb4:z},Symbol.toStringTag,{value:"Module"})),F=()=>{const[t]=c();t.isKeyboardFocusSig.value=!1,t.isMouseOverPopupSig.value=!0},H=Object.freeze(Object.defineProperty({__proto__:null,_hW:a,s_9STi5DEaK94:F},Symbol.toStringTag,{value:"Module"})),Q=t=>{const e=S(T),i=h(e.localId),s={context:e,givenContextRef:e.popoverRef},g=E(t.ref,s),d=O(t,["floating","flip","hover","gutter"]),_=P(!0);f(r(()=>l(()=>Promise.resolve().then(()=>K),void 0),"s_7lQKzdZ2ybk",[e,_,i]));const p=`${e.localId}-panel`,b=`${e.localId}-trigger`;return f(r(()=>l(()=>Promise.resolve().then(()=>M),void 0),"s_elCQc4rsmKk",[e,r(()=>l(()=>Promise.resolve().then(()=>C),void 0),"s_9QSfKFryeb4",[e,r(()=>l(()=>Promise.resolve().then(()=>R),void 0),"s_DzK8WbOdwTY")])])),f(r(()=>l(()=>Promise.resolve().then(()=>I),void 0),"s_uci394fFoFM",[_])),m(y,{get floating(){return t.floating},get flip(){return t.flip},get hover(){return t.hover},get gutter(){return t.gutter},get"bind:anchor"(){return t["bind:anchor"]??e.triggerRef},"bind:panel":g,manual:!0,get id(){return e.localId},children:m(L,{id:p,get"data-open"(){return e.isListboxOpenSig.value?"":void 0},get"data-closed"(){return e.isListboxOpenSig.value?void 0:""},get"data-invalid"(){var o;return(o=e.isInvalidSig)!=null&&o.value?"":void 0},role:"listbox",get"aria-expanded"(){return e.isListboxOpenSig.value?"true":void 0},get"aria-multiselectable"(){return e.multiple?"true":void 0},"aria-labelledby":b,onMouseEnter$:[r(()=>l(()=>Promise.resolve().then(()=>H),void 0),"s_9STi5DEaK94",[e]),t.onMouseEnter$],...d,children:m(x,null,3,"gt_0"),[u]:{"data-open":n(o=>o.isListboxOpenSig.value?"":void 0,[e]),"data-closed":n(o=>o.isListboxOpenSig.value?void 0:"",[e]),"data-invalid":n(o=>{var v;return(v=o.isInvalidSig)!=null&&v.value?"":void 0},[e]),role:u,"aria-expanded":n(o=>o.isListboxOpenSig.value?"true":void 0,[e]),"aria-multiselectable":n(o=>o.multiple?"true":void 0,[e])}},0,"gt_1"),[u]:{floating:n(o=>o.floating,[t]),flip:n(o=>o.flip,[t]),hover:n(o=>o.hover,[t]),gutter:n(o=>o.gutter,[t]),"bind:anchor":n((o,v)=>v["bind:anchor"]??o.triggerRef,[e,t]),"bind:panel":u,manual:u,id:n(o=>o.localId,[e])}},1,"gt_2")},U=Object.freeze(Object.defineProperty({__proto__:null,s_3tVLvyIdVvc:Q},Symbol.toStringTag,{value:"Module"}));export{a as _hW,U as s,Q as s_3tVLvyIdVvc,D as s_7lQKzdZ2ybk,z as s_9QSfKFryeb4,F as s_9STi5DEaK94,j as s_DzK8WbOdwTY,k as s_elCQc4rsmKk,w as s_uci394fFoFM};
