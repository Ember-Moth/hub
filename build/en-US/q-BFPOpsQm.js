import{_ as m}from"./q-BKaOGYNW.js";import{o as p,m as s,l as e,d as i,k as o,q as c,u as d}from"./q-Q7QTf1-t.js";import{G as n,B as f}from"./q-CXrtXnGn.js";import{V as g}from"./q-Cfw5b693.js";import{a0 as h}from"./q-D3Ga_9CS.js";import"./q-R_PFgutd.js";import{u as w}from"./q-DlwICHcG.js";import{t as b}from"./q-B-GNphMI.js";import"./q-CX_U-nEJ.js";import"./q-C6JuRMDH.js";import"./q-DTPKyc3d.js";import"./q-bWKQX6P2.js";import"./q-xouav5_y.js";const A=()=>{var u,_;const t=w(),r=(_=(u=t.userStore.detail)==null?void 0:u.auth_methods.find(a=>a.auth_type==="email"))==null?void 0:_.auth_identifier,l=p(""),v={emailSuccess:`Email has been successfully bound`};return s(n.Root,{class:"flex flex-col",children:[s(n.Header,{children:i("div",null,{class:"flex items-center gap-2"},[i("div",null,{class:"bg-primary/10 flex h-8 w-8 items-center justify-center rounded-lg"},s(g,{class:"text-primary h-4 w-4",[e]:{class:e}},3,"lv_9"),1,null),s(n.Title,{children:`Email Binding`},1,"lv_10")],1,null)},1,"lv_11"),s(n.Content,{class:"space-y-4 border-t p-5",children:[i("div",null,{class:"text-foreground/70 mb-2 text-sm"},[`Current email`,":"," ",r||`Not bound`],1,null),s(h,{ghost:!0,label:`New Email`,type:"email",placeholder:`Please enter the email address you want to bind`,get value(){return l.value},onInput$:c(()=>m(()=>Promise.resolve().then(()=>k),void 0),"s_tVkvznQwlMw",[l]),[e]:{ghost:e,type:e,value:o(a=>a.value,[l]),onInput$:e}},3,"lv_12")],[e]:{class:e}},1,"lv_13"),s(n.Footer,{class:"mt-auto flex justify-end border-t p-5",children:s(f,{onClick$:c(()=>m(()=>Promise.resolve().then(()=>I),void 0),"s_C0k8Eka4xIk",[l,v,t]),get disabled(){return!l.value},get loading(){return t.userStore.loading.update},children:`Save Email`,[e]:{disabled:o(a=>!a.value,[l]),loading:o(a=>a.userStore.loading.update,[t])}},1,"lv_14"),[e]:{class:e}},1,"lv_15")],[e]:{class:e}},1,"lv_16")},x=async()=>{const[t,r,l]=d();await l.updateEmail({email:t.value}),b.success(r.emailSuccess),t.value=""},I=Object.freeze(Object.defineProperty({__proto__:null,s_C0k8Eka4xIk:x},Symbol.toStringTag,{value:"Module"})),E=(t,r)=>{const[l]=d();return l.value=r.value},k=Object.freeze(Object.defineProperty({__proto__:null,s_tVkvznQwlMw:E},Symbol.toStringTag,{value:"Module"}));export{x as s_C0k8Eka4xIk,A as s_bBdBT0q0HEA,E as s_tVkvznQwlMw};
