import{u as r}from"./q-gSxxJeWo.js";import{_ as R}from"./q-gSxxJeWo.js";import{r as s}from"./q-BG3_QTyM.js";import"./q-BKaOGYNW.js";import"./q-DuNBRwv3.js";import"./q-B5TFmh5c.js";import"./q-CvYgVdLJ.js";import"./q-C_B9_CLk.js";import"./q-C2B8HMMM.js";import"./q-CRLhHez8.js";import"./q-DXZy683x.js";import"./q-Am9eSDJS.js";async function c(t,n){return s("/v1/public/announcement/list",{method:"GET",params:{...t}})}const x=async t=>{const[n]=r();if(!n.loading.list){n.loading.list=!0;try{const{data:i}=await c({page:n.params.page,size:n.params.size,...t||{}});if(i.data){const o=i.data.announcements||[];n.list=o,n.pagination.total=i.data.total||0,n.pagination.current=(t==null?void 0:t.page)||n.params.page||1,n.pagination.size=(t==null?void 0:t.size)||n.params.size||10,n.pagination.hasMore=n.pagination.total>n.pagination.current*n.pagination.size,n.params={...n.params,...t||{}};const a=o.find(e=>e.pinned);a&&(n.meta.pinned=a);const p=o.find(e=>e.popup);p&&(n.meta.popup=p)}}catch{n.list=[]}finally{n.loading.list=!1}}};export{R as _hW,x as s_dRqTYNwROIA};
