import{u as r}from"./q-Q7QTf1-t.js";import{_hW as S}from"./q-Q7QTf1-t.js";import{r as s}from"./q-CXrtXnGn.js";import"./q-BKaOGYNW.js";import"./q-D3Ga_9CS.js";import"./q-Cfw5b693.js";import"./q-R_PFgutd.js";import"./q-CX_U-nEJ.js";import"./q-C6JuRMDH.js";import"./q-B-GNphMI.js";import"./q-DTPKyc3d.js";import"./q-bWKQX6P2.js";async function c(t,n){return s("/v1/public/announcement/list",{method:"GET",params:{...t}})}const x=async t=>{const[n]=r();if(!n.loading.list){n.loading.list=!0;try{const{data:i}=await c({page:n.params.page,size:n.params.size,...t||{}});if(i.data){const o=i.data.announcements||[];n.list=o,n.pagination.total=i.data.total||0,n.pagination.current=(t==null?void 0:t.page)||n.params.page||1,n.pagination.size=(t==null?void 0:t.size)||n.params.size||10,n.pagination.hasMore=n.pagination.total>n.pagination.current*n.pagination.size,n.params={...n.params,...t||{}};const a=o.find(e=>e.pinned);a&&(n.meta.pinned=a);const p=o.find(e=>e.popup);p&&(n.meta.popup=p)}}catch{n.list=[]}finally{n.loading.list=!1}}};export{S as _hW,x as s_dRqTYNwROIA};
