import{_ as h}from"./q-BKaOGYNW.js";import{D as v,m as l,l as r,d as n,q as f,k as b,u as w}from"./q-Q7QTf1-t.js";import{G as d,M as g}from"./q-CXrtXnGn.js";import{v as k,M as y}from"./q-Cfw5b693.js";import"./q-R_PFgutd.js";import{u as x}from"./q-bWKQX6P2.js";import{u as T}from"./q-DlwICHcG.js";import{t as p}from"./q-B-GNphMI.js";import"./q-D3Ga_9CS.js";import"./q-CX_U-nEJ.js";import"./q-C6JuRMDH.js";import"./q-DTPKyc3d.js";import"./q-xouav5_y.js";const Q=()=>{v();const o=T(),t=x(),u={unlinkSuccess:`Successfully unlinked {{method}}`,linkPrompt:`Please complete {{method}} linking in the new window`},i={github:"GitHub",google:"Google",wechat:`WeChat`,weibo:`Weibo`,qq:"QQ",facebook:"Facebook",twitter:"Twitter"},a=t.config.oauth_methods.filter(e=>!["mobile","email","device"].includes(e));return a.length===0?null:l(d.Root,{id:"linked-accounts",children:[l(d.Header,{children:n("div",null,{class:"flex items-center gap-2"},[n("div",null,{class:"bg-primary/10 flex h-8 w-8 items-center justify-center rounded-lg"},l(k,{class:"text-primary h-4 w-4",[r]:{class:r}},3,"lv_28"),1,null),l(d.Title,{children:`Third-party Accounts`},1,"lv_29")],1,null)},1,"lv_30"),l(d.Content,{class:"space-y-4 border-t p-5",children:a.map(e=>{var _;const s=g[e],c=((_=o.userStore.detail)==null?void 0:_.auth_methods.some(m=>m.auth_type===e))??!1;return n("div",null,{class:"border-border bg-background/50 flex items-center justify-between rounded-lg border p-4 transition-all hover:shadow-sm"},[n("div",null,{class:"flex items-center"},[n("div",null,{class:"bg-primary/10 mr-3 flex h-10 w-10 items-center justify-center rounded-full"},l(s,{class:"text-primary h-5 w-5",[r]:{class:r}},3,"lv_31"),1,null),n("div",null,null,[n("div",null,{class:"text-card-foreground font-medium capitalize"},i[e]||e,1,null),n("div",null,{class:"text-foreground/70 text-sm"},c?`Successfully linked`:`Not linked yet`,1,null)],1,null)],1,null),n("button",{class:y("rounded-md px-4 py-2 text-sm font-medium transition-colors",c?"bg-background text-primary hover:bg-primary/10":"bg-primary hover:bg-primary/90"),onClick$:f(()=>h(()=>Promise.resolve().then(()=>I),void 0),"s_urtYtJfUeHY",[c,e,i,u,o])},{disabled:b(m=>m.userStore.loading.update,[o])},o.userStore.loading.update?`Processing...`:c?`Unlink`:`Link Now`,0,null)],1,s)}),[r]:{class:r}},1,"lv_32")],[r]:{id:r}},1,"lv_33")},q=async()=>{var e;const[o,t,u,i,a]=w();if(o)await a.unbindThirdPartyAccount({method:t}),p.success(i.unlinkSuccess.replace("{{method}}",u[t]||t));else{const s=await a.bindThirdPartyAccount({method:t,redirect:`${window.location.origin}/account/bind/${t}`});(e=s==null?void 0:s.data.data)!=null&&e.redirect&&(p.success(i.linkPrompt.replace("{{method}}",u[t]||t)),window.open(s.data.data.redirect,"_blank"))}},I=Object.freeze(Object.defineProperty({__proto__:null,s_urtYtJfUeHY:q},Symbol.toStringTag,{value:"Module"}));export{Q as s_fPEEtbTQCkc,q as s_urtYtJfUeHY};
