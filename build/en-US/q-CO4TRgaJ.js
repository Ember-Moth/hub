import{u as l,p as d,t as _,q as r,e as p,_ as c}from"./q-gSxxJeWo.js";import{r as s}from"./q-BG3_QTyM.js";import{_ as i}from"./q-BKaOGYNW.js";import"./q-CvYgVdLJ.js";import"./q-DuNBRwv3.js";import"./q-B5TFmh5c.js";import"./q-C_B9_CLk.js";import"./q-C2B8HMMM.js";import"./q-CRLhHez8.js";import"./q-DXZy683x.js";import"./q-Am9eSDJS.js";async function V(e){return s("/v1/common/client",{method:"GET"})}async function u(e,o){return s("/v1/common/send_code",{method:"POST",headers:{"Content-Type":"application/json"},data:e})}async function y(e,o){return s("/v1/common/send_sms_code",{method:"POST",headers:{"Content-Type":"application/json"},data:e})}async function Z(e){return s("/v1/common/site/config",{method:"GET",...e||{}})}async function D(e){return s("/v1/common/site/privacy",{method:"GET"})}async function F(e){return s("/v1/common/site/tos",{method:"GET"})}const v=({track:e})=>{const[o,t]=l();if(e(()=>o.value),o.value<=0)return;const n=setTimeout(()=>{o.value--,o.value<=0&&localStorage.removeItem(t)},1e3);return()=>clearTimeout(n)},g=Object.freeze(Object.defineProperty({__proto__:null,_hW:c,s_lpReTsJRMyA:v},Symbol.toStringTag,{value:"Module"})),T=async()=>{const[e,o,t]=l();await o(),e.value=60;const n=Date.now()+e.value*1e3;localStorage.setItem(t,n.toString())},f=Object.freeze(Object.defineProperty({__proto__:null,_hW:c,s_jt8m0XZPEVM:T},Symbol.toStringTag,{value:"Module"})),h=async()=>{const[e]=l();e.type==="email"&&e.params.email?await u({email:e.params.email,type:e.params.type}):e.type==="mobile"&&e.params.telephone&&e.params.telephone_area_code&&await y({telephone:e.params.telephone,telephone_area_code:e.params.telephone_area_code,type:e.params.type})},S=Object.freeze(Object.defineProperty({__proto__:null,_hW:c,s_ZTAL2160ZFs:h},Symbol.toStringTag,{value:"Module"})),b=()=>{const[e,o]=l(),t=localStorage.getItem(o);if(t){const n=parseInt(t),a=Math.floor((n-Date.now())/1e3);a>0?e.value=a:localStorage.removeItem(o)}},C=Object.freeze(Object.defineProperty({__proto__:null,_hW:c,s_6ooJFlUuMLg:b},Symbol.toStringTag,{value:"Module"})),G=e=>{const o=d(0),t=`verify_code_${e.type}`;_(r(()=>i(()=>Promise.resolve().then(()=>C),void 0),"s_6ooJFlUuMLg",[o,t])),_(r(()=>i(()=>Promise.resolve().then(()=>g),void 0),"s_lpReTsJRMyA",[o,t]));const a=r(()=>i(()=>Promise.resolve().then(()=>f),void 0),"s_jt8m0XZPEVM",[o,r(()=>i(()=>Promise.resolve().then(()=>S),void 0),"s_ZTAL2160ZFs",[e]),t]),m=o.value>0||(e.type==="email"?!e.params.email:!e.params.telephone||!e.params.telephone_area_code);return p("button",{disabled:m},{type:"button",class:"text-primary flex h-full cursor-pointer items-center px-3 text-sm whitespace-nowrap disabled:text-gray-400",onClick$:a},o.value>0?`${o.value}s`:`Get Code`,1,"0w_0")};export{c as _hW,F as a,Z as b,V as c,h as d,b as e,G as f,D as g,T as s,v as s_lpReTsJRMyA};
