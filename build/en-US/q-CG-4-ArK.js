import{a as b,q as a,o as h,I,u as v,i as R,L as A,A as p,r as T,v as j,j as M,l as S,k as f,m as $,S as L,_hW as m}from"./q-Q7QTf1-t.js";import{_ as r}from"./q-BKaOGYNW.js";import{S as x,s as D}from"./q-BNdHvpMw.js";import{u as V}from"./q-DAeZLEpY.js";function y(){const t=b(x);return{getNextEnabledItemIndex$:a(()=>r(()=>import("./q-CX7i8cBj.js").then(o=>o.b),[]),"s_d2aSM1l6dP0",[t]),getPrevEnabledItemIndex$:a(()=>r(()=>import("./q-CX7i8cBj.js").then(o=>o.u),[]),"s_o0q09CkHXuM",[t]),selectionManager$:a(()=>r(()=>import("./q-CX7i8cBj.js").then(o=>o.a),[]),"s_KJgcPWz9i0Q",[t])}}function ce(){const t=b(x),e=h(""),i=h(void 0),n=h(void 0),{selectionManager$:o}=y(),s=I(a(()=>r(()=>import("./q-COnldVie.js").then(l=>l.u),[]),"s_Iyqsu8mAeAE",[t]));return{typeahead$:a(()=>r(()=>import("./q-COnldVie.js").then(l=>l.a),[]),"s_qnre2VaUrsY",[t,s,i,e,n,o])}}const q=()=>{var n;const[t,e,i]=v();if(!i.disabled)return t.highlightedIndexSig.value===i._index?((n=e.value)==null||n.focus({preventScroll:!0}),!0):!1},C=Object.freeze(Object.defineProperty({__proto__:null,s_8LBJGjcUWRU:q},Symbol.toStringTag,{value:"Module"})),H=t=>{const[e]=v();e.value=t.detail},U=Object.freeze(Object.defineProperty({__proto__:null,_hW:m,s_o3vuTXCG7Bs:H},Symbol.toStringTag,{value:"Module"})),B=t=>{const e=R(t,["_index","disabled"]),i=b(x),n=V(t.ref),o=h(null),s=`${i.localId}-${t._index}`,c=h(),l=h(),d=y();A("typeaheadFn",a(()=>r(()=>Promise.resolve().then(()=>U),void 0),"s_o3vuTXCG7Bs",[c]));const u=I(a(()=>r(()=>Promise.resolve().then(()=>N),void 0),"s_Ww0DAfOUyl4",[i,t])),g=I(a(()=>r(()=>Promise.resolve().then(()=>C),void 0),"s_8LBJGjcUWRU",[i,n,t]));p(a(()=>r(()=>Promise.resolve().then(()=>G),void 0),"s_xmJJ40X0xmA",[o,t])),p(a(()=>r(()=>Promise.resolve().then(()=>ie),void 0),"s_AZAmV50uxqI",[a(()=>r(()=>Promise.resolve().then(()=>z),void 0),"s_MMrVwzNwZFg",[i,g,n]),i,l,n,o,t]));const O=a(()=>r(()=>Promise.resolve().then(()=>Z),void 0),"s_lMqmWN4BB4c",[i,o,t,d]),w=a(()=>r(()=>Promise.resolve().then(()=>F),void 0),"s_Xy76l0Yc1F0",[i,o,t]),P={isSelectedSig:u},E=T(_=>{["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","PageDown","PageUp","Enter"," "].includes(_.key)&&_.preventDefault()},'e=>{const keys=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","PageDown","PageUp","Enter"," "];if(keys.includes(e.key)){e.preventDefault();}}'),k=a(()=>r(()=>Promise.resolve().then(()=>ee),void 0),"s_OPxKEkuRaps",[i,d,c]);return j(D,P),M("div",{...e,id:s,ref:n,tabIndex:-1,get"aria-selected"(){return u.value},get"aria-disabled"(){return t.disabled===!0?"true":"false"},get"data-selected"(){return u.value?"":void 0},get"data-highlighted"(){return g.value?"":void 0},get"data-disabled"(){return t.disabled?"":void 0},"data-item":!0,role:"option",children:$(L,null,3,"nb_0"),onClick$:[O,t.onClick$],onKeyDown$:[E,k,t.onKeyDown$],onPointerOver$:[w,t.onPointerOver$]},{tabIndex:S,"aria-selected":f(_=>_.value,[u]),"aria-disabled":f(_=>_.disabled===!0?"true":"false",[t]),"data-selected":f(_=>_.value?"":void 0,[u]),"data-highlighted":f(_=>_.value?"":void 0,[g]),"data-disabled":f(_=>_.disabled?"":void 0,[t]),"data-item":S,role:S},0,"nb_1")},_e=Object.freeze(Object.defineProperty({__proto__:null,s_0GlsfrK9PyQ:B},Symbol.toStringTag,{value:"Module"})),K=async t=>{var s,c,l;const[e,i,n]=v(),[o]=t;if(i.value&&!o.isIntersecting){const d=(s=e.popoverRef.value)==null?void 0:s.getBoundingClientRect(),u=(c=n.value)==null?void 0:c.getBoundingClientRect();if(!d||!u||!e.isKeyboardFocusSig.value)return;const g=u.top-d.top-d.height/2+u.height/2;(l=e.popoverRef.value)==null||l.scrollBy({top:document.hasFocus()?g:void 0,...e.scrollOptions})}},z=Object.freeze(Object.defineProperty({__proto__:null,_hW:m,s_MMrVwzNwZFg:K},Symbol.toStringTag,{value:"Module"})),W=()=>{const[t,e,i]=v();i.disabled||e.value!==null&&(t.highlightedIndexSig.value=e.value)},F=Object.freeze(Object.defineProperty({__proto__:null,_hW:m,s_Xy76l0Yc1F0:W},Symbol.toStringTag,{value:"Module"})),J=()=>{const[t,e]=v(),i=e._index??null;return!e.disabled&&t.selectedIndexSetSig.value.has(i)},N=Object.freeze(Object.defineProperty({__proto__:null,s_Ww0DAfOUyl4:J},Symbol.toStringTag,{value:"Module"})),X=async function(){const[e,i]=v();if(i._index===void 0)throw Error("Qwik UI: Select component item cannot find its proper index.");e.value=i._index},G=Object.freeze(Object.defineProperty({__proto__:null,_hW:m,s_xmJJ40X0xmA:X},Symbol.toStringTag,{value:"Module"})),Q=async()=>{var o;const[t,e,i,n]=v();i.disabled||e.value===null||(t.multiple?(await n.selectionManager$(e.value,"toggle"),(o=t.triggerRef.value)==null||o.focus()):(await n.selectionManager$(e.value,"add"),t.isListboxOpenSig.value=!1))},Z=Object.freeze(Object.defineProperty({__proto__:null,_hW:m,s_lMqmWN4BB4c:Q},Symbol.toStringTag,{value:"Module"})),Y=async t=>{var o,s,c;const[e,i,n]=v();switch((o=n.value)==null||o.call(n,t.key),e.isKeyboardFocusSig.value=!0,t.key){case"ArrowDown":e.isListboxOpenSig.value&&(e.highlightedIndexSig.value=await i.getNextEnabledItemIndex$(e.highlightedIndexSig.value),e.multiple&&t.shiftKey&&await i.selectionManager$(e.highlightedIndexSig.value,"toggle"));break;case"ArrowUp":e.isListboxOpenSig.value&&(e.highlightedIndexSig.value=await i.getPrevEnabledItemIndex$(e.highlightedIndexSig.value),e.multiple&&t.shiftKey&&await i.selectionManager$(e.highlightedIndexSig.value,"toggle"));break;case"Home":e.isListboxOpenSig.value&&(e.highlightedIndexSig.value=await i.getNextEnabledItemIndex$(-1));break;case"End":if(e.isListboxOpenSig.value){const l=await i.getPrevEnabledItemIndex$(e.itemsMapSig.value.size);e.highlightedIndexSig.value=l}break;case"Escape":(s=e.triggerRef.value)==null||s.focus(),e.isListboxOpenSig.value=!1;break;case"Tab":e.isListboxOpenSig.value=!1;break;case"Enter":case" ":if(e.isListboxOpenSig.value){const l=e.multiple?"toggle":"add";await i.selectionManager$(e.highlightedIndexSig.value,l),e.multiple||(c=e.triggerRef.value)==null||c.focus()}e.isListboxOpenSig.value=e.multiple?!0:!e.isListboxOpenSig.value;break;case"a":if(t.ctrlKey&&e.multiple)for(const[l,d]of e.itemsMapSig.value)d.disabled||await i.selectionManager$(l,"add");break}},ee=Object.freeze(Object.defineProperty({__proto__:null,_hW:m,s_OPxKEkuRaps:Y},Symbol.toStringTag,{value:"Module"})),te=function({track:e,cleanup:i}){const[n,o,s,c,l,d]=v();e(()=>o.highlightedIndexSig.value),l.value===o.highlightedIndexSig.value&&(o.highlightedItemRef=c),!(!o.popoverRef.value||!(o.popoverRef.value.scrollHeight>o.popoverRef.value.clientHeight))&&(s.value!==void 0&&clearTimeout(s.value),s.value=setTimeout(()=>{if(d._index!==o.highlightedIndexSig.value)return;const g=new IntersectionObserver(n,{root:o.popoverRef.value,threshold:0});i(()=>g==null?void 0:g.disconnect()),c.value&&g.observe(c.value)},100),i(()=>{s.value!==void 0&&clearTimeout(s.value)}))},ie=Object.freeze(Object.defineProperty({__proto__:null,_hW:m,s_AZAmV50uxqI:te},Symbol.toStringTag,{value:"Module"}));export{m as _hW,ce as a,_e as s,B as s_0GlsfrK9PyQ,q as s_8LBJGjcUWRU,te as s_AZAmV50uxqI,K as s_MMrVwzNwZFg,Y as s_OPxKEkuRaps,J as s_Ww0DAfOUyl4,W as s_Xy76l0Yc1F0,Q as s_lMqmWN4BB4c,H as s_o3vuTXCG7Bs,X as s_xmJJ40X0xmA,y as u};
