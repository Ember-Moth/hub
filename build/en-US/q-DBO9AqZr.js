import{c as u,a as T,q as a,v as g,B as h,x as p,u as l,o as n,m as s,e as c,g as E,_}from"./q-gSxxJeWo.js";import{C as S}from"./q-DuNBRwv3.js";import{_ as m}from"./q-BKaOGYNW.js";import{D as i,c as y}from"./q-BG3_QTyM.js";import{C as b,D as f,E as M}from"./q-B5TFmh5c.js";import"./q-CvYgVdLJ.js";import"./q-C_B9_CLk.js";import"./q-C2B8HMMM.js";import"./q-CRLhHez8.js";import"./q-DXZy683x.js";import"./q-Am9eSDJS.js";const d=u("theme-context"),Q=()=>{const t=g({theme:"system",realTheme:"light"});return h(a(()=>m(()=>import("./q-C29jJx4X.js"),[]),"s_GT0e37ijrWQ",[t])),p(d,t),t},x=()=>{const t=T(d);return{store:t,setTheme:a(()=>m(()=>import("./q-Xf4oFSoe.js"),[]),"s_fjbhbZSAPKg",[t])}};class v{constructor(e){this.THEME_KEY="theme",this.SYSTEM_THEME_KEY="system-theme",this.cookies=new S(e||null,{path:"/"}),this.initSystemThemeListener()}initSystemThemeListener(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{this.getTheme()==="system"&&this.setTheme("system")})}getSystemPreference(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}getTheme(){const e=this.cookies.get(this.THEME_KEY);return e||(this.setTheme("system"),"system")}updateDOM(e){const o=document.documentElement,r=window;o.classList.remove("light","dark"),o.classList.add(e),o.style.colorScheme=e,r.isDark=e==="dark"}setTheme(e){this.cookies.set(this.THEME_KEY,e,{maxAge:31536e3});const o=this.getSystemPreference();this.cookies.set(this.SYSTEM_THEME_KEY,o,{maxAge:31536e3});const r=e==="system"?o:e;this.updateDOM(r)}syncFromServer(e){this.cookies.set(this.THEME_KEY,e,{maxAge:31536e3})}getSystemTheme(){return this.cookies.get(this.SYSTEM_THEME_KEY)||this.getSystemPreference()}getRealTheme(){const e=this.getTheme();return e==="system"?this.getSystemPreference():e}syncSystemTheme(){const e=this.getSystemPreference();this.cookies.set(this.SYSTEM_THEME_KEY,e,{maxAge:31536e3})}}const P=new v,k=()=>{const[t]=l(),e=P.getTheme();t.setTheme(e)},L=Object.freeze(Object.defineProperty({__proto__:null,_hW:_,s_O0PH3dn5bgE:k},Symbol.toStringTag,{value:"Module"})),V=()=>{const t=x(),e={system:{label:`System`,icon:M},light:{label:`Light`,icon:f},dark:{label:`Dark`,icon:b}};return h(a(()=>m(()=>Promise.resolve().then(()=>L),void 0),"s_O0PH3dn5bgE",[t])),n(i.Root,{children:[n(i.Trigger,{"aria-label":"Theme Switcher",get class(){return y({look:"ghost",size:"icon"})},children:n(e[t.store.theme].icon,{class:"text-lg",[s]:{class:s}},3,"TX_0"),[s]:{"aria-label":s,class:s}},1,"TX_1"),n(i.Popover,{gutter:8,class:"bg-popover text-popover-foreground animate-in fade-in-80 zoom-in-90 !border-border w-44 rounded-md !border p-1.5 shadow-md",floating:"bottom-end",children:c("div",null,{class:"space-y-1 p-1.5"},Object.entries(e).map(([o,r])=>n(i.Item,{class:`flex cursor-pointer items-center gap-2 rounded px-3 py-2 text-sm transition-colors select-none ${t.store.theme===o?"bg-primary text-primary-foreground":"hover:bg-accent hover:text-accent-foreground"}`,onClick$:a(()=>m(()=>Promise.resolve().then(()=>Y),void 0),"s_LOiYLsY4Nag",[o,t]),children:[n(r.icon,{class:"size-5",[s]:{class:s}},3,"TX_2"),c("span",null,null,E(r,"label"),1,null)]},0,o)),1,null),[s]:{gutter:s,class:s,floating:s}},1,"TX_3")]},1,"TX_4")},w=()=>{const[t,e]=l();return e.setTheme(t)},Y=Object.freeze(Object.defineProperty({__proto__:null,_hW:_,s_LOiYLsY4Nag:w},Symbol.toStringTag,{value:"Module"}));export{_ as _hW,x as a,w as b,V as s,k as s_O0PH3dn5bgE,P as t,Q as u};
