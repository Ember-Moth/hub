import{_ as m}from"./q-BKaOGYNW.js";import{p,o as s,m as e,e as o,l as i,q as c,u as d}from"./q-gSxxJeWo.js";import{G as r,B as f}from"./q-BG3_QTyM.js";import{V as g}from"./q-B5TFmh5c.js";import{a0 as b}from"./q-DuNBRwv3.js";import"./q-CvYgVdLJ.js";import{u as x}from"./q-CTSOZNae.js";import{t as h}from"./q-CRLhHez8.js";import"./q-C_B9_CLk.js";import"./q-C2B8HMMM.js";import"./q-DXZy683x.js";import"./q-Am9eSDJS.js";import"./q-C0whS16-.js";const w=()=>{var u,_;const l=x(),n=(_=(u=l.userStore.detail)==null?void 0:u.auth_methods.find(a=>a.auth_type==="email"))==null?void 0:_.auth_identifier,t=p(""),v={emailSuccess:`邮箱绑定成功`};return s(r.Root,{class:"flex flex-col",children:[s(r.Header,{children:o("div",null,{class:"flex items-center gap-2"},[o("div",null,{class:"bg-primary/10 flex h-8 w-8 items-center justify-center rounded-lg"},s(g,{class:"text-primary h-4 w-4",[e]:{class:e}},3,"lv_9"),1,null),s(r.Title,{children:`邮箱绑定`},1,"lv_10")],1,null)},1,"lv_11"),s(r.Content,{class:"space-y-4 border-t p-5",children:[o("div",null,{class:"text-foreground/70 mb-2 text-sm"},[`当前邮箱`,":"," ",n||`未绑定`],1,null),s(b,{ghost:!0,label:`新邮箱`,type:"email",placeholder:`请输入您要绑定的邮箱地址`,get value(){return t.value},onInput$:c(()=>m(()=>Promise.resolve().then(()=>y),void 0),"s_tVkvznQwlMw",[t]),[e]:{ghost:e,type:e,value:i(a=>a.value,[t]),onInput$:e}},3,"lv_12")],[e]:{class:e}},1,"lv_13"),s(r.Footer,{class:"mt-auto flex justify-end border-t p-5",children:s(f,{onClick$:c(()=>m(()=>Promise.resolve().then(()=>I),void 0),"s_C0k8Eka4xIk",[t,v,l]),get disabled(){return!t.value},get loading(){return l.userStore.loading.update},children:`保存邮箱`,[e]:{disabled:i(a=>!a.value,[t]),loading:i(a=>a.userStore.loading.update,[l])}},1,"lv_14"),[e]:{class:e}},1,"lv_15")],[e]:{class:e}},1,"lv_16")},Q=Object.freeze(Object.defineProperty({__proto__:null,s_bBdBT0q0HEA:w},Symbol.toStringTag,{value:"Module"})),E=async()=>{const[l,n,t]=d();await t.updateEmail({email:l.value}),h.success(n.emailSuccess),l.value=""},I=Object.freeze(Object.defineProperty({__proto__:null,s_C0k8Eka4xIk:E},Symbol.toStringTag,{value:"Module"})),S=(l,n)=>{const[t]=d();return t.value=n.value},y=Object.freeze(Object.defineProperty({__proto__:null,s_tVkvznQwlMw:S},Symbol.toStringTag,{value:"Module"}));export{S as a,Q as i,E as s,w as s_bBdBT0q0HEA};
