import{u as v}from"./q-gSxxJeWo.js";import{v as b,g as F,s as u,a as l,b as h,F as c}from"./q-BMQMcSac.js";import"./q-BKaOGYNW.js";const E=async(m,f)=>{const[a,p,s,d,t,o,g]=v();d||(s.response={}),s.submitCount++,s.submitted=!0,s.submitting=!0;try{if(await b(s,o)){const e=F(s,o),[r]=await Promise.all([g||a==null?void 0:a.submit(p?new FormData(f):e),t==null?void 0:t(e,m)]);if(r!=null&&r.value){const{errors:n,response:i}=r.value;u(s,n,{...o,shouldFocus:!1}),Object.keys(i).length?l(s,i,o):h(s,n,o)}}}catch(e){e instanceof c&&u(s,e.errors,{...o,shouldFocus:!1}),(!(e instanceof c)||e.message)&&l(s,{status:"error",message:(e==null?void 0:e.message)||"An unknown error has occurred."},o)}finally{s.submitting=!1}};export{E as s_9oZQOoepHvI};
