import{u as d,D as x,A as w,q as m,m as o,d as s,h as S,l as n,k as u,S as T,F as O,_hW as f}from"./q-Q7QTf1-t.js";import{_ as p}from"./q-BKaOGYNW.js";import{A as D,c as v,J as a}from"./q-CXrtXnGn.js";import{M as j,U as g,z as y}from"./q-Cfw5b693.js";import{L as M}from"./q-CX_U-nEJ.js";import{M as k}from"./q-C6JuRMDH.js";import{u as E,a as _}from"./q-DlwICHcG.js";import"./q-R_PFgutd.js";import{u as N,a as L}from"./q-DGUlTn8E.js";import"./q-D3Ga_9CS.js";import"./q-B-GNphMI.js";import"./q-DTPKyc3d.js";import"./q-bWKQX6P2.js";import"./q-xouav5_y.js";const R=()=>{const[r]=d();r.announcementStore.meta.showPinned=!1,sessionStorage.setItem("announcement-pinned","false")},z=Object.freeze(Object.defineProperty({__proto__:null,_hW:f,s_FENkDdysnAk:R},Symbol.toStringTag,{value:"Module"})),C=()=>{x(),N();const r=E(),t=L();w(m(()=>p(()=>Promise.resolve().then(()=>U),void 0),"s_OXYDK0drvNI",[t,r]));const l=m(()=>p(()=>Promise.resolve().then(()=>z),void 0),"s_FENkDdysnAk",[t]),i=m(()=>p(()=>Promise.resolve().then(()=>V),void 0),"s_h9uN8cs20tI",[t]),c={user:`用户中心`,announcements:`公告列表`,overview:`账户概览`,ticket:`联系支持`,docs:`帮助中心`},h=_.findIndex(e=>e.separator),b=_.slice(0,h),A=_.slice(h+1),I=D();return o(O,{children:[s("section",null,{class:"bg-background sticky top-16 z-10 hidden h-14 justify-center border-t lg:flex"},s("div",null,{class:"container flex items-center justify-between"},[s("nav",null,{class:"flex items-center gap-2"},b.map(e=>o(M,{get href(){return e.href},class:j(v({size:"sm",look:"ghost",class:I(e.href,e.key!=="overview")?"bg-accent text-primary":void 0})),children:c[e.key],[n]:{href:S(e,"href")}},1,e.href)),1,null),s("nav",null,{class:"flex items-center gap-2"},A.map((e,P)=>o(M,{get href(){return e.href},class:v({size:"sm",look:"outline",class:P===1?"bg-primary/15 text-primary":""}),children:c[e.key],[n]:{href:S(e,"href")}},1,e.href)),1,null)],1,null),1,null),t.announcementStore.meta.pinned&&t.announcementStore.meta.showPinned&&s("section",null,{class:"container mx-auto px-4 pt-5"},o(a.Root,{class:"relative shadow-sm",look:"alert",children:[o(g,{class:"mr-3 h-4 w-4",[n]:{class:n}},3,"Mf_0"),o(a.Title,{children:u(e=>e.announcementStore.meta.pinned.title,[t])},3,"Mf_1"),o(a.Description,{children:o(k,{get content(){return t.announcementStore.meta.pinned.content},[n]:{content:u(e=>e.announcementStore.meta.pinned.content,[t])}},3,"Mf_2")},1,"Mf_3"),s("button",null,{class:"absolute top-2 right-2 cursor-pointer rounded-full p-1","aria-label":"Close Announcement",onClick$:l},o(y,{class:"h-4 w-4",[n]:{class:n}},3,"Mf_4"),1,null)],[n]:{class:n,look:n}},1,"Mf_5"),1,"Mf_6"),t.announcementStore.meta.popup&&t.announcementStore.meta.showPopup&&s("section",null,{class:"container mx-auto px-4 pt-5"},o(a.Root,{class:"relative shadow-sm",look:"alert",children:[o(g,{class:"mr-3 h-4 w-4",[n]:{class:n}},3,"Mf_7"),o(a.Title,{children:u(e=>e.announcementStore.meta.popup.title,[t])},3,"Mf_8"),o(a.Description,{children:o(k,{get content(){return t.announcementStore.meta.popup.content},[n]:{content:u(e=>e.announcementStore.meta.popup.content,[t])}},3,"Mf_9")},1,"Mf_10"),s("button",null,{class:"absolute top-2 right-2 cursor-pointer rounded-full p-1","aria-label":"Close Announcement",onClick$:i},o(y,{class:"h-4 w-4",[n]:{class:n}},3,"Mf_11"),1,null)],[n]:{class:n,look:n}},1,"Mf_12"),1,"Mf_13"),o(T,null,3,"Mf_14")]},1,"Mf_15")},oe=Object.freeze(Object.defineProperty({__proto__:null,s_EeoxUD0iMG0:C},Symbol.toStringTag,{value:"Module"})),q=async({track:r})=>{const[t,l]=d();if(r(()=>l.userStore.meta.authenticated),!l.userStore.meta.authenticated)return;await t.fetchAnnouncementList();const i=sessionStorage.getItem("announcement-pinned")||"true",c=sessionStorage.getItem("announcement-popup")||"true";i==="true"&&(t.announcementStore.meta.showPinned=!0),c==="true"&&(t.announcementStore.meta.showPopup=!0)},U=Object.freeze(Object.defineProperty({__proto__:null,_hW:f,s_OXYDK0drvNI:q},Symbol.toStringTag,{value:"Module"})),F=()=>{const[r]=d();r.announcementStore.meta.showPopup=!1,sessionStorage.setItem("announcement-popup","false")},V=Object.freeze(Object.defineProperty({__proto__:null,_hW:f,s_h9uN8cs20tI:F},Symbol.toStringTag,{value:"Module"}));export{f as _hW,oe as l,C as s_EeoxUD0iMG0,R as s_FENkDdysnAk,q as s_OXYDK0drvNI,F as s_h9uN8cs20tI};
