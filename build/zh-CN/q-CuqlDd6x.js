import{_ as c}from"./q-BKaOGYNW.js";import{S as k}from"./q-BlEW7sTm.js";import{a as O,p as D,s as u,k as L,m as v,l,q as p,o as A,S as E,u as _,_ as b}from"./q-gSxxJeWo.js";import{u as T}from"./q-DZzWbOQ9.js";import{u as P,a as R}from"./q-Br9O_Tm4.js";const j=i=>{const e=O(k),d=P(),a=`${e.localId}-label`,s=`${e.localId}-description`,r=`${e.localId}-error-message`,n=`${e.localId}-trigger`,o=`${e.localId}-panel`,S=`${e.localId}-value`,h=D(!0),x=R(),f={context:e,givenContextRef:e.triggerRef},m=T(i.ref,f),w=u(t=>{t.preventDefault()},"e=>{e.preventDefault();}"),I=p(()=>c(()=>Promise.resolve().then(()=>M),void 0),"s_HX2goHBaB80",[e]),y=u(t=>{["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","PageDown","PageUp","Enter"," "].includes(t.key)&&t.preventDefault()},'e=>{const keys=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","PageDown","PageUp","Enter"," "];if(keys.includes(e.key)){e.preventDefault();}}'),$=p(()=>c(()=>Promise.resolve().then(()=>C),void 0),"s_oqxje7oTGRg",[e,h,d,x]);return L("button",{...i,id:n,ref:m,get"data-open"(){return e.isListboxOpenSig.value?"":void 0},get"data-closed"(){return e.isListboxOpenSig.value?void 0:""},get"data-disabled"(){return e.isDisabledSig.value?"":void 0},get"data-invalid"(){var t;return(t=e.isInvalidSig)!=null&&t.value?"":void 0},"aria-labelledby":`${S} ${a} `,"aria-describedby":`${s} 
      ${r}`,get"aria-expanded"(){return!!e.isListboxOpenSig.value},"aria-haspopup":"listbox","aria-controls":o,get disabled(){return e.isDisabledSig.value?!0:void 0},"preventdefault:blur":!0,children:A(E,null,3,"Qq_0"),onClick$:[w,I,i.onClick$],onKeyDown$:[y,$,i.onKeyDown$]},{"data-open":l(t=>t.isListboxOpenSig.value?"":void 0,[e]),"data-closed":l(t=>t.isListboxOpenSig.value?void 0:"",[e]),"data-disabled":l(t=>t.isDisabledSig.value?"":void 0,[e]),"data-invalid":l(t=>{var g;return(g=t.isInvalidSig)!=null&&g.value?"":void 0},[e]),"aria-expanded":l(t=>!!t.isListboxOpenSig.value,[e]),"aria-haspopup":v,disabled:l(t=>t.isDisabledSig.value?!0:void 0,[e]),"preventdefault:blur":v},0,"Qq_1")},G=Object.freeze(Object.defineProperty({__proto__:null,s_1iice5VnBA0:j},Symbol.toStringTag,{value:"Module"})),q=async i=>{var r;const[e,d,a,s]=_();if(e.itemsMapSig.value){switch(e.isKeyboardFocusSig.value=!0,e.isListboxOpenSig.value||s.typeahead$(i.key),i.key){case"Tab":case"Escape":e.isListboxOpenSig.value=!1;break;case"ArrowDown":case"ArrowUp":e.isListboxOpenSig.value||(e.isListboxOpenSig.value=!0);break;case"ArrowRight":if(!e.multiple){const n=e.highlightedIndexSig.value??-1,o=await a.getNextEnabledItemIndex$(n);await a.selectionManager$(o,"add"),e.highlightedIndexSig.value=o}break;case"ArrowLeft":if(!e.multiple){const n=e.highlightedIndexSig.value??e.itemsMapSig.value.size,o=await a.getPrevEnabledItemIndex$(n);await a.selectionManager$(o,"add"),e.highlightedIndexSig.value=o}break;case"Enter":case" ":e.isListboxOpenSig.value=e.multiple?!0:!e.isListboxOpenSig.value;break}for(e.highlightedIndexSig.value===null&&(i.key==="ArrowUp"?e.highlightedIndexSig.value=await a.getPrevEnabledItemIndex$(e.itemsMapSig.value.size):e.highlightedIndexSig.value=await a.getNextEnabledItemIndex$(-1));e.highlightedItemRef.value!==document.activeElement;)await new Promise(n=>setTimeout(n,5)),(r=e.highlightedItemRef.value)==null||r.focus();d.value&&document.dispatchEvent(new CustomEvent("typeaheadFn",{detail:s.typeahead$}))}},C=Object.freeze(Object.defineProperty({__proto__:null,_hW:b,s_oqxje7oTGRg:q},Symbol.toStringTag,{value:"Module"})),H=()=>{const[i]=_();i.isListboxOpenSig.value=!i.isListboxOpenSig.value},M=Object.freeze(Object.defineProperty({__proto__:null,_hW:b,s_HX2goHBaB80:H},Symbol.toStringTag,{value:"Module"}));export{H as a,G as b,q as s,j as s_1iice5VnBA0};
