import{u as c,_hW as d}from"./q-Q7QTf1-t.js";import{r as s}from"./q-CXrtXnGn.js";import"./q-BKaOGYNW.js";import"./q-D3Ga_9CS.js";import"./q-Cfw5b693.js";import"./q-R_PFgutd.js";import"./q-CX_U-nEJ.js";import"./q-C6JuRMDH.js";import"./q-B-GNphMI.js";import"./q-DTPKyc3d.js";import"./q-bWKQX6P2.js";async function l(e,t){return s("/v1/public/portal/order/checkout",{method:"POST",headers:{"Content-Type":"application/json"},data:e})}async function u(e,t){return s("/v1/public/portal/order/status",{method:"GET",params:{...e}})}async function U(e){return s("/v1/public/portal/payment-method",{method:"GET"})}async function p(e,t){return s("/v1/public/portal/pre",{method:"POST",headers:{"Content-Type":"application/json"},data:e})}async function _(e,t){return s("/v1/public/portal/purchase",{method:"POST",headers:{"Content-Type":"application/json"},data:e})}async function D(e){return s("/v1/public/portal/subscribe",{method:"GET"})}const f=async e=>{const[t]=c();if(t.loading.update)return null;t.loading.update=!0;try{const r=await p(e);return r.data.data&&(t.meta.pre=r.data.data),r}catch{return null}finally{t.loading.update=!1}},H=Object.freeze(Object.defineProperty({__proto__:null,_hW:d,s_RxWHqVzDrEU:f},Symbol.toStringTag,{value:"Module"}));async function Q(e,t){return s("/v1/public/order/close",{method:"POST",headers:{"Content-Type":"application/json"},data:e})}async function h(e,t){return s("/v1/public/order/detail",{method:"GET",params:{...e}})}async function G(e,t){return s("/v1/public/order/list",{method:"GET",params:{...e}})}async function W(e,t){return s("/v1/public/order/pre",{method:"POST",headers:{"Content-Type":"application/json"},data:e})}async function y(e,t){return s("/v1/public/order/purchase",{method:"POST",headers:{"Content-Type":"application/json"},data:e})}async function m(e,t){return s("/v1/public/order/recharge",{method:"POST",headers:{"Content-Type":"application/json"},data:e})}async function g(e,t){return s("/v1/public/order/renewal",{method:"POST",headers:{"Content-Type":"application/json"},data:e})}async function O(e,t){return s("/v1/public/order/reset",{method:"POST",headers:{"Content-Type":"application/json"},data:e})}const b=async e=>{var o;const[t,r,a]=c();if(a.loading.create)return null;a.loading.create=!0;try{const n=await O(e),i=(o=n.data.data)==null?void 0:o.order_no;return i&&(a.selected={order_no:i},t(`${r}/?order_no=${i}`)),n}catch{return null}finally{a.loading.create=!1}},x=Object.freeze(Object.defineProperty({__proto__:null,_hW:d,s_SyIR0bmuNUY:b},Symbol.toStringTag,{value:"Module"})),S=async e=>{var o;const[t,r,a]=c();if(a.loading.create)return null;a.loading.create=!0;try{const n=e.identifier?await _(e):await y({subscribe_id:e.subscribe_id,quantity:e.quantity,payment:e.payment,coupon:e.coupon||""}),i=(o=n.data.data)==null?void 0:o.order_no;return i&&(a.selected={order_no:i},e.identifier&&sessionStorage.setItem(i,JSON.stringify({identifier:e.identifier,auth_type:e.auth_type})),t(`${r}/?order_no=${i}`)),n}catch{return null}finally{a.loading.create=!1}},F=Object.freeze(Object.defineProperty({__proto__:null,_hW:d,s_iJ2ojjEs9lI:S},Symbol.toStringTag,{value:"Module"})),T=async e=>{var o;const[t,r,a]=c();if(a.loading.create)return null;a.loading.create=!0;try{const n=await g(e),i=(o=n.data.data)==null?void 0:o.order_no;return i&&(a.selected={order_no:i},t(`${r}/?order_no=${i}`)),n}catch{return null}finally{a.loading.create=!1}},J=Object.freeze(Object.defineProperty({__proto__:null,_hW:d,s_eFwR5QuTCXQ:T},Symbol.toStringTag,{value:"Module"})),j=async e=>{const[t]=c();if(t.loading.list)return;t.loading.detail=!0;const r={order_no:e},a=sessionStorage.getItem(e);if(a){const{identifier:o,auth_type:n}=JSON.parse(a);r.identifier=o,r.auth_type=n}try{const o=r.identifier?await u({order_no:e,identifier:r.identifier,auth_type:r.auth_type||"email"}):await h({order_no:e});return o.data.data&&(t.detail=o.data.data),o}catch{t.detail=null}finally{t.loading.detail=!1}},Y=Object.freeze(Object.defineProperty({__proto__:null,_hW:d,s_HUtHYDF8gZI:j},Symbol.toStringTag,{value:"Module"})),v=async e=>{var o;const[t,r,a]=c();if(a.loading.create)return null;a.loading.create=!0;try{const n=await m(e),i=(o=n.data.data)==null?void 0:o.order_no;return i&&(a.selected={order_no:i},t(`${r}/?order_no=${i}`)),n}catch{return null}finally{a.loading.create=!1}},K=Object.freeze(Object.defineProperty({__proto__:null,_hW:d,s_dIuWO8clKcE:v},Symbol.toStringTag,{value:"Module"})),P=async e=>{const[t]=c();if(t.loading.create)return null;t.loading.create=!0;try{const r=await l({orderNo:e,returnUrl:location.href});return r.data.data&&(r.data.data.type==="url"&&r.data.data.checkout_url&&window.open(r.data.data.checkout_url,"_blank"),t.meta.checkout=r.data.data),r}catch{return null}finally{t.loading.create=!1}},L=Object.freeze(Object.defineProperty({__proto__:null,_hW:d,s_9R6QMvt68Oo:P},Symbol.toStringTag,{value:"Module"}));export{d as _hW,D as a,h as b,O as c,Q as d,W as e,g as f,U as g,x as h,F as i,J as j,Y as k,K as l,L as m,H as o,y as p,G as q,m as r,P as s_9R6QMvt68Oo,j as s_HUtHYDF8gZI,f as s_RxWHqVzDrEU,b as s_SyIR0bmuNUY,v as s_dIuWO8clKcE,T as s_eFwR5QuTCXQ,S as s_iJ2ojjEs9lI};
