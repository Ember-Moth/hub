const I=function(){const n=typeof document<"u"&&document.createElement("link").relList;return n&&n.supports&&n.supports("modulepreload")?"modulepreload":"preload"}(),x=function(t){return"/"+t},P={},N=function(n,e,s){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),i=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.all(e.map(l=>{if(l=x(l),l in P)return;P[l]=!0;const d=l.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${g}`))return;const c=document.createElement("link");if(c.rel=d?"stylesheet":I,d||(c.as="script",c.crossOrigin=""),c.href=l,i&&c.setAttribute("nonce",i),document.head.appendChild(c),d)return new Promise((_,C)=>{c.addEventListener("load",_),c.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${l}`)))})}))}return r.then(()=>n()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},p=document,k="modulepreload",D="preload",u={t:0,o:25,l:.65},R=p.createElement("link").relList.supports(k)?k:D,T=Date.now(),A=/\.[mc]?js$/,b=0,U=1,$=2,M=3,O=4,m=new Map;let S,w=0;const a=[],h=(...t)=>{},Q=()=>{S&&(a.sort((t,n)=>t.u-n.u),S=0)},y=()=>{if(a.length){for(Q();a.length;){const t=a[0],e=1-t.u,s=f?Math.max(1,u.o*e):2;if(e>=.99||w<s)a.shift(),j(t);else break}if(u.t&&!a.length){const t=[...m.values()].filter(s=>s.i>b),n=t.reduce((s,r)=>s+r.p,0),e=t.reduce((s,r)=>s+r.$,0);h(`>>>> done ${t.length}/${m.size} total: ${n}ms waited, ${e}ms loaded`)}}},j=t=>{if(t.i>=$)return;w++;const n=Date.now();t.p=n-t.m,t.i=$,u.t&&h(`<< load ${Math.round((1-t.u)*100)}% after ${`${t.p}ms`}`,t.B);const e=p.createElement("link");e.href=new URL(`${E}${t.B}`,p.baseURI).toString(),e.rel=R,e.as="script",e.onload=e.onerror=()=>{w--;const s=Date.now();t.$=s-n,t.i=O,u.t&&h(`>> done after ${t.$}ms`,t.B),e.remove(),y()},p.head.appendChild(e)},v=(t,n,e)=>{if(e!=null&&e.has(t))return;const s=t.u;if(t.u=n,!(s-t.u<.01)&&(E!=null&&t.i<$&&t.u<u.l&&(t.i===b&&(t.i=U,a.push(t),u.t&&h(`queued ${Math.round((1-t.u)*100)}%`,t.B)),S=1),t.h)){e||(e=new Set),e.add(t);const r=1-t.u;for(const o of t.h){const i=q(o.B);if(i.u===0)continue;let l;if(o.S>.5&&(r===1||r>=.99&&B<100))B++,l=Math.min(.01,1-o.S);else{const d=1-o.S*r,g=o.q,c=d/g;l=Math.max(.02,i.u*c),o.q=c}v(i,l,e)}}},L=(t,n)=>{const e=q(t);e&&e.u>n&&v(e,n)};let B;const G=(t,n)=>{if(!(t!=null&&t.length))return;B=0;let e=n?1-n:.4;if(Array.isArray(t))for(let s=t.length-1;s>=0;s--){const r=t[s];typeof r=="number"?e=1-r/10:L(r,e)}else L(t,e);y()};document.addEventListener("qsymbol",t=>{const{symbol:n,href:e}=t.detail;if(e){const s=n.slice(n.lastIndexOf("_")+1);G(s,1)}});let E,f;const z=(t,n)=>({B:t,i:A.test(t)?b:M,h:n,u:1,m:Date.now(),p:0,$:0}),J=t=>{const n=new Map;let e=0;for(;e<t.length;){const s=t[e++],r=[];let o,i=1;for(;o=t[e],typeof o=="number";)o<0?i=-o/10:r.push({B:t[o],S:i,q:1}),e++;n.set(s,r)}return n},q=t=>{let n=m.get(t);if(!n){let e;if(f){if(e=f.get(t),!e)return;e.length||(e=void 0)}n=z(t,e),m.set(t,n)}return n},W=(t,n,e)=>{e&&("d"in e&&(u.t=!!e.d),"P"in e&&(u.o=e.P),"Q"in e&&(u.l=1-e.Q)),t!=null&&(E=t,n&&n.then(s=>s.text()).then(s=>{f=J(JSON.parse(s));const r=[];for(const[o,i]of f.entries()){const l=q(o);l.h=i,l.u<1&&(r.push([l,l.u]),l.u=1)}u.t&&h(`parseBundleGraph got ${f.size} bundles, adjusting ${r.length}`);for(const[o,i]of r)v(o,i);y()}).catch(console.warn))};export{N as _,J as g,L as h,W as l,G as p};
