import{_ as o}from"./q-BKaOGYNW.js";import{t as T,v as E,a as D,c as A,q as l,b as m,D as S,o as P,A as k,d as a,m as s,l as n,k as x,h as p,f as h,u as I,_hW as w}from"./q-Q7QTf1-t.js";import{A as O,c as y,B as R}from"./q-CXrtXnGn.js";import{o as j,p as V,q as U,r as z,s as q,t as C,v as M,w as B,x as N,M as u,y as Q,z as F}from"./q-Cfw5b693.js";import{L as _}from"./q-CX_U-nEJ.js";import"./q-R_PFgutd.js";import{u as W}from"./q-bWKQX6P2.js";import{a as G}from"./q-DTPKyc3d.js";import{D as H}from"./q-xouav5_y.js";import"./q-D3Ga_9CS.js";import"./q-C6JuRMDH.js";import"./q-B-GNphMI.js";const K={...H,meta:{authenticated:!1}},L=A("user-store"),ve=t=>{const r={...K,...t},c=T(r);return E(L,c),c},X=()=>{const t=D(L),r=l(()=>o(()=>import("./q-C_mVpmJu.js").then(e=>e.b),[]),"s_BI6I0vT5MZs",[t]);return{userStore:t,fetchUserInfo:r,updatePassword:l(()=>o(()=>import("./q-C_mVpmJu.js").then(e=>e.f),[]),"s_yjHGrRj4408",[t]),updateNotificationSettings:l(()=>o(()=>import("./q-C_mVpmJu.js").then(e=>e.d),[]),"s_4FuaE2LjT8c",[t]),bindThirdPartyAccount:l(()=>o(()=>import("./q-C_mVpmJu.js").then(e=>e.u),[]),"s_ZXnjqB5p2V8",[t]),unbindThirdPartyAccount:l(()=>o(()=>import("./q-C_mVpmJu.js").then(e=>e.c),[]),"s_J0jeARuYbrc",[r,t]),updateEmail:l(()=>o(()=>import("./q-C_mVpmJu.js").then(e=>e.a),[]),"s_98eeBL09pmY",[r,t]),updateMobile:l(()=>o(()=>import("./q-C_mVpmJu.js").then(e=>e.e),[]),"s_bhVLUw3NGdQ",[r,t])}},Y=m(l(()=>o(()=>import("./q-DamuiEmM.js"),[]),"s_aYybBL0s6ks")),Z=m(l(()=>o(()=>import("./q-C4g_MYwH.js").then(t=>t.b),[]),"s_PHq1Z8Ayjno")),ge=[{icon:j,key:"user",href:"/user"},{icon:V,key:"announcements",href:"/user/announcements"},{icon:U,key:"overview",href:"/user/overview"},{separator:!0,icon:void 0,key:"",href:""},{icon:z,key:"ticket",href:"/user/ticket"},{icon:q,key:"docs",href:"/user/docs"}],$=m(l(()=>o(()=>import("./q-DRInDy9m.js"),[]),"s_5XfmFytdabw")),J=m(l(()=>o(()=>import("./q-D_a9XVvJ.js"),[]),"s_tQVKy4uSfSk")),ee=()=>{S();const t=W(),r=X(),c=G(),i=P(!1);k(l(()=>o(()=>Promise.resolve().then(()=>ne),void 0),"s_xul8iWb8hLA",[i,c]));const f=[{label:`首页`,href:"/",icon:C},{label:`服务`,href:"/service",icon:M},{label:`定价`,href:"/pricing",icon:B},{label:`下载`,href:"/download",icon:N}],v=O(),g=r.userStore.meta.authenticated?[]:[{label:`登录`,href:"/account/sign-in",className:"hidden md:inline-flex"},{label:`注册`,href:"/account/sign-up",className:"hidden md:inline-flex"}],b=`控制台`;return a("header",null,{class:"h-16 w-screen overflow-x-hidden"},a("div",null,{class:"bg-background/80 fixed top-0 right-0 left-0 z-40 min-h-16 items-center backdrop-blur-md"},a("div",null,{class:"container mx-auto flex h-16 w-full items-center justify-between px-4 md:justify-center md:px-6"},[s(_,{href:"/",class:"mr-4 flex items-center gap-2",children:[a("img",null,{src:x(e=>e.config.site.site_logo||"/favicon.svg",[t]),alt:"logo",class:"h-8",width:32,height:32,loading:"lazy",decoding:"async"},null,3,null),a("span",null,{class:"text-foreground text-lg font-bold"},x(e=>e.config.site.site_name,[t]),3,null)],[n]:{href:n,class:n}},3,"DI_0"),a("nav",null,{class:"text-foreground hidden items-center justify-center gap-6 md:flex"},f.map(e=>s(_,{get href(){return e.href},class:u("hover:bg-primary/50 rounded-2xl px-3 py-1 transition-all duration-300",v(e.href)&&"bg-primary"),children:h(e,"label"),[n]:{href:p(e,"href")}},1,e.label)),1,null),a("div",null,{class:"ml-auto flex items-center gap-3 text-nowrap"},[s(Z,null,3,"DI_1"),s(Y,null,3,"DI_2"),r.userStore.meta.authenticated?a("div",null,{class:"hidden items-center gap-3 md:flex"},[s(_,{href:"/user",get class(){return y({size:"sm"})},title:b,children:b,[n]:{href:n,class:n}},1,"DI_3"),s(J,null,3,"DI_4")],1,"DI_5"):g.map((e,d)=>s(_,{get href(){return e.href},class:u(y({size:"sm",look:d===0?"outline":"primary"}),e.className),children:h(e,"label"),[n]:{href:p(e,"href")}},1,e.label)),s(R,{class:"ml-auto inline-flex items-center bg-transparent md:hidden",look:"ghost",size:"icon",onClick$:l(()=>o(()=>Promise.resolve().then(()=>se),void 0),"s_N90QILpFW9g",[i]),"aria-label":"Menu",get"aria-expanded"(){return i.value},children:[s(Q,{class:u("absolute !size-6 transition-all duration-300",i.value?"rotate-[360deg] opacity-0":"rotate-0 opacity-100")},3,"DI_6"),s(F,{class:u("absolute !size-6 transition-all duration-300",i.value?"rotate-0 opacity-100":"-rotate-[360deg] opacity-0")},3,"DI_7")],[n]:{class:n,look:n,size:n,onClick$:n,"aria-label":n,"aria-expanded":x(e=>e.value,[i])}},1,"DI_8"),a("div",{class:u("bg-background fixed inset-0 top-16 -z-10 flex h-[calc(100dvh-4rem)] flex-col justify-between overflow-y-auto","pb-[env(safe-area-inset-bottom)]","transition-all duration-300 ease-in-out",i.value?"pointer-events-auto translate-y-0 opacity-100":"pointer-events-none -translate-y-full opacity-0")},null,[a("nav",null,{class:"flex flex-1 flex-col overflow-y-auto pb-6 text-sm"},f.map(e=>{const d=e.icon;return s(_,{get href(){return e.href},class:u("hover:text-accent-foreground hover:bg-accent/50 flex min-h-14 flex-shrink-0 items-center gap-4 px-6 py-4 transition-all duration-200",v(e.href)&&"text-primary bg-primary/10 font-medium"),children:[s(d,{class:"size-5 flex-shrink-0",[n]:{class:n}},3,"DI_9"),a("span",null,{class:"flex-1"},h(e,"label"),1,null)],[n]:{href:p(e,"href")}},1,e.label)}),1,null),a("div",null,{class:"border-t pb-[max(1rem,env(safe-area-inset-bottom))]"},r.userStore.meta.authenticated?a("div",null,null,s($,{variant:"mobile",[n]:{variant:n}},3,"DI_11"),1,null):a("div",null,{class:"flex flex-col gap-4 px-6 py-6"},g.map((e,d)=>s(_,{get href(){return e.href},class:y({look:d===0?"outline":"primary",size:"md"}),children:h(e,"label"),[n]:{href:p(e,"href")}},1,e.label)),1,"DI_10"),1,null)],1,null)],1,null)],1,null),1,null),1,"DI_12")},be=Object.freeze(Object.defineProperty({__proto__:null,s_04cLqKu6aQ0:ee},Symbol.toStringTag,{value:"Module"})),te=({track:t})=>{const[r,c]=I();t(()=>c.url.pathname),r.value&&(r.value=!1)},ne=Object.freeze(Object.defineProperty({__proto__:null,_hW:w,s_xul8iWb8hLA:te},Symbol.toStringTag,{value:"Module"})),ae=()=>{const[t]=I();t.value=!t.value},se=Object.freeze(Object.defineProperty({__proto__:null,s_N90QILpFW9g:ae},Symbol.toStringTag,{value:"Module"}));export{Y as L,Z as T,$ as U,w as _hW,ge as a,ve as b,be as h,ee as s_04cLqKu6aQ0,ae as s_N90QILpFW9g,te as s_xul8iWb8hLA,X as u};
