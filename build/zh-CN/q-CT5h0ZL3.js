import{u as f,E as w,B as x,q as m,o,e as s,i as S,m as n,l as u,S as T,F as O,_ as d}from"./q-gSxxJeWo.js";import{_ as p}from"./q-BKaOGYNW.js";import{A as E,c as v,J as a}from"./q-BG3_QTyM.js";import{M as N,U as g,z as M}from"./q-B5TFmh5c.js";import{L as k}from"./q-C_B9_CLk.js";import{M as y}from"./q-C2B8HMMM.js";import{u as D,a as _}from"./q-CTSOZNae.js";import"./q-CvYgVdLJ.js";import{u as j,a as L}from"./q-C1qEco8N.js";import"./q-DuNBRwv3.js";import"./q-CRLhHez8.js";import"./q-DXZy683x.js";import"./q-Am9eSDJS.js";import"./q-C0whS16-.js";const R=()=>{const[r]=f();r.announcementStore.meta.showPinned=!1,sessionStorage.setItem("announcement-pinned","false")},C=Object.freeze(Object.defineProperty({__proto__:null,_hW:d,s_FENkDdysnAk:R},Symbol.toStringTag,{value:"Module"})),te=()=>{w(),j();const r=D(),t=L();x(m(()=>p(()=>Promise.resolve().then(()=>z),void 0),"s_OXYDK0drvNI",[t,r]));const c=m(()=>p(()=>Promise.resolve().then(()=>C),void 0),"s_FENkDdysnAk",[t]),i=m(()=>p(()=>Promise.resolve().then(()=>F),void 0),"s_h9uN8cs20tI",[t]),l={user:`用户中心`,announcements:`公告列表`,overview:`账户概览`,ticket:`联系支持`,docs:`帮助中心`},h=_.findIndex(e=>e.separator),I=_.slice(0,h),A=_.slice(h+1),P=E();return o(O,{children:[s("section",null,{class:"bg-background sticky top-16 z-10 hidden h-14 justify-center border-t lg:flex"},s("div",null,{class:"container flex items-center justify-between"},[s("nav",null,{class:"flex items-center gap-2"},I.map(e=>o(k,{get href(){return e.href},class:N(v({size:"sm",look:"ghost",class:P(e.href,e.key!=="overview")?"bg-accent text-primary":void 0})),children:l[e.key],[n]:{href:S(e,"href")}},1,e.href)),1,null),s("nav",null,{class:"flex items-center gap-2"},A.map((e,b)=>o(k,{get href(){return e.href},class:v({size:"sm",look:"outline",class:b===1?"bg-primary/15 text-primary":""}),children:l[e.key],[n]:{href:S(e,"href")}},1,e.href)),1,null)],1,null),1,null),t.announcementStore.meta.pinned&&t.announcementStore.meta.showPinned&&s("section",null,{class:"container mx-auto px-4 pt-5"},o(a.Root,{class:"relative shadow-sm",look:"alert",children:[o(g,{class:"mr-3 h-4 w-4",[n]:{class:n}},3,"Mf_0"),o(a.Title,{children:u(e=>e.announcementStore.meta.pinned.title,[t])},3,"Mf_1"),o(a.Description,{children:o(y,{get content(){return t.announcementStore.meta.pinned.content},[n]:{content:u(e=>e.announcementStore.meta.pinned.content,[t])}},3,"Mf_2")},1,"Mf_3"),s("button",null,{class:"absolute top-2 right-2 cursor-pointer rounded-full p-1","aria-label":"Close Announcement",onClick$:c},o(M,{class:"h-4 w-4",[n]:{class:n}},3,"Mf_4"),1,null)],[n]:{class:n,look:n}},1,"Mf_5"),1,"Mf_6"),t.announcementStore.meta.popup&&t.announcementStore.meta.showPopup&&s("section",null,{class:"container mx-auto px-4 pt-5"},o(a.Root,{class:"relative shadow-sm",look:"alert",children:[o(g,{class:"mr-3 h-4 w-4",[n]:{class:n}},3,"Mf_7"),o(a.Title,{children:u(e=>e.announcementStore.meta.popup.title,[t])},3,"Mf_8"),o(a.Description,{children:o(y,{get content(){return t.announcementStore.meta.popup.content},[n]:{content:u(e=>e.announcementStore.meta.popup.content,[t])}},3,"Mf_9")},1,"Mf_10"),s("button",null,{class:"absolute top-2 right-2 cursor-pointer rounded-full p-1","aria-label":"Close Announcement",onClick$:i},o(M,{class:"h-4 w-4",[n]:{class:n}},3,"Mf_11"),1,null)],[n]:{class:n,look:n}},1,"Mf_12"),1,"Mf_13"),o(T,null,3,"Mf_14")]},1,"Mf_15")},q=async({track:r})=>{const[t,c]=f();if(r(()=>c.userStore.meta.authenticated),!c.userStore.meta.authenticated)return;await t.fetchAnnouncementList();const i=sessionStorage.getItem("announcement-pinned")||"true",l=sessionStorage.getItem("announcement-popup")||"true";i==="true"&&(t.announcementStore.meta.showPinned=!0),l==="true"&&(t.announcementStore.meta.showPopup=!0)},z=Object.freeze(Object.defineProperty({__proto__:null,_hW:d,s_OXYDK0drvNI:q},Symbol.toStringTag,{value:"Module"})),U=()=>{const[r]=f();r.announcementStore.meta.showPopup=!1,sessionStorage.setItem("announcement-popup","false")},F=Object.freeze(Object.defineProperty({__proto__:null,_hW:d,s_h9uN8cs20tI:U},Symbol.toStringTag,{value:"Module"}));export{d as _hW,q as a,U as b,te as s,R as s_FENkDdysnAk};
