import"./q-BKaOGYNW.js";import{E as z,p as A,o as u,e as n,F as d,l as s,m as t,S as Q}from"./q-gSxxJeWo.js";import{S as M,G as m,R as c}from"./q-BG3_QTyM.js";import{e as U,j as E,z as P}from"./q-B5TFmh5c.js";import{f as G,b as N}from"./q-Am9eSDJS.js";import{F as a}from"./q-X_lghi-t.js";import"./q-CvYgVdLJ.js";import"./q-DuNBRwv3.js";import"./q-C_B9_CLk.js";import"./q-C2B8HMMM.js";import"./q-CRLhHez8.js";import"./q-DXZy683x.js";import"./q-C0whS16-.js";import"./q-CTSOZNae.js";const se=e=>{var b,p,H,h,w,T,q,I,O,j,C,S,D,B,R,k;z();const y=A(!1),L={1:"",2:`(续订)`,3:`(重置流量)`,4:`(充值)`},x=((b=e.order)==null?void 0:b.amount)||((p=e.previewOrder)==null?void 0:p.amount)||(((H=e.config)==null?void 0:H.type)===4?e.config.amount||0:((h=e.config)==null?void 0:h.type)===3&&((w=e.product)==null?void 0:w.replacement)||0),i=!!e.order,f=e.title||`订单摘要`,F=((T=e.config)==null?void 0:T.type)===1||((q=e.config)==null?void 0:q.type)===2,g=((I=e.order)==null?void 0:I.subscribe.name)||((O=e.product)==null?void 0:O.name)||(((j=e.config)==null?void 0:j.type)===4?`账户充值`:""),_=((C=e.order)==null?void 0:C.type)||((S=e.config)==null?void 0:S.type)||1,v=u(d,{children:g?u(d,{children:[i&&e.order&&u(d,{children:[n("div",null,{class:"mb-4 space-y-2"},[n("div",null,{class:"flex items-center justify-between"},[n("span",null,{class:"text-muted-foreground"},`创建时间`,1,null),n("span",null,null,G(e.order.created_at),1,null)],1,null),n("div",null,{class:"flex items-center justify-between"},[n("span",null,{class:"text-muted-foreground"},`支付方式`,1,null),n("span",null,null,s(l=>l.order.payment.name,[e]),3,null)],1,null)],1,null),u(M,{class:"my-4",[t]:{class:t}},3,"fH_1")]},1,"fH_2"),n("div",null,{class:"text-lg font-medium"},[g,n("span",null,{class:"text-muted-foreground text-sm"},L[_],1,null)],1,null),F&&n("div",null,{class:"my-2 flex justify-between text-sm"},[n("span",null,null,[s(l=>{var r,o;return((r=l.order)==null?void 0:r.quantity)||((o=l.config)==null?void 0:o.quantity)||1},[e])," ",u(N,{get type(){var l,r;return((l=e.order)==null?void 0:l.subscribe.unit_time)||((r=e.product)==null?void 0:r.unit_time)||"Month"},[t]:{type:s(l=>{var r,o;return((r=l.order)==null?void 0:r.subscribe.unit_time)||((o=l.product)==null?void 0:o.unit_time)||"Month"},[e])}},3,"fH_3")],1,null),n("span",{class:`font-bold ${!i&&e.previewOrder?"line-through":""}`},null,u(a,{type:"currency",get value(){var l,r;return((l=e.order)==null?void 0:l.price)||((r=e.previewOrder)==null?void 0:r.price)||0},[t]:{type:t,value:s(l=>{var r,o;return((r=l.order)==null?void 0:r.price)||((o=l.previewOrder)==null?void 0:o.price)||0},[e])}},3,"fH_4"),1,null)],1,"fH_5"),_===4&&n("div",null,{class:"my-2 flex justify-between text-sm"},[n("span",null,null,`金额`,1,null),n("span",null,{class:"font-bold"},u(a,{type:"currency",get value(){var l;return((l=e.config)==null?void 0:l.amount)||0},[t]:{type:t,value:s(l=>{var r;return((r=l.config)==null?void 0:r.amount)||0},[e])}},3,"fH_6"),1,null)],1,"fH_7"),_===3&&n("div",null,{class:"my-2 flex justify-between text-sm"},[n("span",null,null,`重置流量`,1,null),n("span",null,{class:"font-bold"},u(a,{type:"currency",get value(){var l;return((l=e.product)==null?void 0:l.replacement)||0},[t]:{type:t,value:s(l=>{var r;return((r=l.product)==null?void 0:r.replacement)||0},[e])}},3,"fH_8"),1,null)],1,"fH_9"),!!(!i&&((D=e.previewOrder)!=null&&D.discount)&&e.previewOrder.discount>0)&&n("div",null,{class:"my-2 flex items-center justify-between text-sm"},[n("span",null,{class:"bg-alert text-alert-foreground rounded-full px-2 py-1 text-xs"},`订阅折扣`,1,null),n("span",null,{class:"font-bold"},u(a,{type:"currency",get value(){var l;return(l=e.previewOrder)==null?void 0:l.discount},[t]:{type:t,value:s(l=>{var r;return(r=l.previewOrder)==null?void 0:r.discount},[e])}},3,"fH_10"),1,null)],1,"fH_11"),!!(i&&((B=e.order)!=null&&B.discount)&&e.order.discount>0)&&n("div",null,{class:"my-2 flex items-center justify-between text-sm"},[n("span",null,{class:"bg-alert text-alert-foreground rounded-full px-2 py-1 text-xs"},`订阅折扣`,1,null),n("span",null,{class:"font-bold"},u(a,{type:"currency",get value(){var l;return(l=e.order)==null?void 0:l.discount},[t]:{type:t,value:s(l=>{var r;return(r=l.order)==null?void 0:r.discount},[e])}},3,"fH_12"),1,null)],1,"fH_13"),!!(!i&&((R=e.previewOrder)!=null&&R.coupon_discount)&&e.previewOrder.coupon_discount>0)&&n("div",null,{class:"my-2 flex items-center justify-between text-sm"},[n("span",null,{class:"bg-alert text-alert-foreground rounded-full px-2 py-1 text-xs"},`优惠券折扣`,1,null),n("span",null,{class:"font-bold"},u(a,{type:"currency",get value(){var l;return(l=e.previewOrder)==null?void 0:l.coupon_discount},[t]:{type:t,value:s(l=>{var r;return(r=l.previewOrder)==null?void 0:r.coupon_discount},[e])}},3,"fH_14"),1,null)],1,"fH_15"),!!(i&&((k=e.order)!=null&&k.coupon_discount)&&e.order.coupon_discount>0)&&n("div",null,{class:"my-2 flex items-center justify-between text-sm"},[n("span",null,{class:"bg-alert text-alert-foreground rounded-full px-2 py-1 text-xs"},`优惠券折扣`,1,null),n("span",null,{class:"font-bold"},u(a,{type:"currency",get value(){var l;return(l=e.order)==null?void 0:l.coupon_discount},[t]:{type:t,value:s(l=>{var r;return(r=l.order)==null?void 0:r.coupon_discount},[e])}},3,"fH_16"),1,null)],1,"fH_17"),u(M,{class:"my-4",[t]:{class:t}},3,"fH_18"),n("div",null,{class:"flex items-center justify-between text-xl font-bold"},[n("span",null,null,`总计`,1,null),n("span",null,null,u(a,{type:"currency",value:x,[t]:{type:t}},3,"fH_19"),1,null)],1,null),u(Q,null,3,"fH_20")]},1,"fH_21"):n("div",null,{class:"text-muted-foreground py-4 text-center"},`加载信息中...`,1,"fH_0")},1,"fH_22");return u(d,{children:[u(m.Root,{class:"hidden h-fit w-auto md:sticky md:block md:min-w-80 md:flex-auto lg:top-24",children:[u(m.Header,{children:u(m.Title,{class:"text-xl font-bold",children:f,[t]:{class:t}},1,"fH_23")},1,"fH_24"),u(m.Content,{children:v},1,"fH_25")],[t]:{class:t}},1,"fH_26"),u(c.Root,{"bind:show":y,closeOnBackdropClick:!0,children:[u(c.Trigger,{class:"bg-background fixed right-0 bottom-0 z-10 w-full border-t px-4 py-2 shadow-lg md:hidden",children:n("div",null,{class:"flex items-center justify-between"},[n("div",null,{class:"flex flex-col text-left"},[n("div",null,{class:"font-bold"},f,1,null),n("div",null,{class:"text-muted-foreground text-sm"},[`总计`,":",u(a,{type:"currency",value:x,[t]:{type:t}},3,"fH_27")],1,null)],1,null),n("div",null,{class:"text-lg"},y.value?u(U,null,3,"fH_28"):u(E,null,3,"fH_29"),1,null)],1,null),[t]:{class:t}},1,"fH_30"),u(c.Panel,{position:"bottom",children:[u(c.Title,{class:"relative flex items-center justify-center",children:[u(c.Close,{class:"absolute left-0",children:u(P,{class:"text-xl",[t]:{class:t}},3,"fH_31"),[t]:{class:t}},1,"fH_32"),f],[t]:{class:t}},1,"fH_33"),n("div",null,null,[n("h3",null,{class:"my-4 text-lg font-semibold"},`订单信息`,1,null),v],1,null)],[t]:{position:t}},1,"fH_34")],[t]:{"bind:show":t,closeOnBackdropClick:t}},1,"fH_35")]},1,"fH_36")};export{se as s_0cQzxZm726Y};
