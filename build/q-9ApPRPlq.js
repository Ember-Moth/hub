import{_ as i}from"./q-BKaOGYNW.js";import{t as m,m as o,l as e,d as p,k as l,q as d,u as _,_hW as v}from"./q-Q7QTf1-t.js";import{G as a,B as f}from"./q-CXrtXnGn.js";import{X as g}from"./q-Cfw5b693.js";import{a0 as u}from"./q-D3Ga_9CS.js";import"./q-R_PFgutd.js";import{u as h}from"./q-DlwICHcG.js";import{t as c}from"./q-B-GNphMI.js";import"./q-CX_U-nEJ.js";import"./q-C6JuRMDH.js";import"./q-DTPKyc3d.js";import"./q-bWKQX6P2.js";import"./q-xouav5_y.js";const $=()=>{const r=h(),t={passwordMismatch:`新密码和确认密码不匹配`,passwordUpdated:`密码更新成功`},s=m({new:"",confirm:""}),w=d(()=>i(()=>Promise.resolve().then(()=>I),void 0),"s_dNGfSLM7pzU",[s,t,r]);return o(a.Root,{class:"flex flex-col",children:[o(a.Header,{children:p("div",null,{class:"flex items-center gap-2"},[p("div",null,{class:"bg-primary/10 flex h-8 w-8 items-center justify-center rounded-lg"},o(g,{class:"text-primary h-4 w-4",[e]:{class:e}},3,"lv_0"),1,null),o(a.Title,{children:`安全密码`},1,"lv_1")],1,null)},1,"lv_2"),o(a.Content,{class:"space-y-4 border-t p-5",children:[o(u,{ghost:!0,label:`新密码`,type:"password",placeholder:`请设置您的新密码`,get value(){return s.new},onInput$:d(()=>i(()=>Promise.resolve().then(()=>b),void 0),"s_uREplaqNqsg",[s]),[e]:{ghost:e,type:e,value:l(n=>n.new,[s]),onInput$:e}},3,"lv_3"),o(u,{ghost:!0,label:`确认密码`,type:"password",placeholder:`请确认您的新密码`,get value(){return s.confirm},onInput$:d(()=>i(()=>Promise.resolve().then(()=>S),void 0),"s_ag1FNiqAlJo",[s]),[e]:{ghost:e,type:e,value:l(n=>n.confirm,[s]),onInput$:e}},3,"lv_4")],[e]:{class:e}},1,"lv_5"),o(a.Footer,{class:"mt-auto flex justify-end border-t p-5",children:o(f,{onClick$:w,get disabled(){return!s.new||!s.confirm},get loading(){return r.userStore.loading.update},children:`保存密码`,[e]:{onClick$:e,disabled:l(n=>!n.new||!n.confirm,[s]),loading:l(n=>n.userStore.loading.update,[r])}},1,"lv_6"),[e]:{class:e}},1,"lv_7")],[e]:{class:e}},1,"lv_8")},P=async()=>{const[r,t,s]=_();if(r.new!==r.confirm){c.error(t.passwordMismatch);return}await s.updatePassword(r.confirm),r.new="",r.confirm="",c.success(t.passwordUpdated)},I=Object.freeze(Object.defineProperty({__proto__:null,_hW:v,s_dNGfSLM7pzU:P},Symbol.toStringTag,{value:"Module"})),y=(r,t)=>{const[s]=_();return s.confirm=t.value},S=Object.freeze(Object.defineProperty({__proto__:null,s_ag1FNiqAlJo:y},Symbol.toStringTag,{value:"Module"})),q=(r,t)=>{const[s]=_();return s.new=t.value},b=Object.freeze(Object.defineProperty({__proto__:null,s_uREplaqNqsg:q},Symbol.toStringTag,{value:"Module"}));export{v as _hW,$ as s_8sACvULPSRI,y as s_ag1FNiqAlJo,P as s_dNGfSLM7pzU,q as s_uREplaqNqsg};
